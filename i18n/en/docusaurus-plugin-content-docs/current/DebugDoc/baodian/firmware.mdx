---
sidebar_position: 2
---

# Firmware Explanation

    :::danger Notice

    * It is best to compile the Klipper firmware using your host machine firmware.
    * Using someone else's compiled firmware or a different firmware version may cause various issues.
    * Try not to use modified host machines.

    :::

## Special Instructions

    :::info Special Instructions
    * Most FLY mainboards have been pre-flashed with the `Katapult` firmware at the factory.
    * The FLY mainboard now primarily uses the `Katapult` firmware to flash the `Klipper` firmware.
    * The DP5, D5, and D7 mainboards need to be manually flashed with the corresponding `Katapult` firmware.
    * Due to the impact of previous firmware, if you want to search for the mainboard ID after flashing the `Katapult` firmware, you need to click the mainboard reset twice; otherwise, you cannot perform the firmware flashing.
    :::

## Firmware Compilation Explanation

    :::tip

    * The FLY mainboard uses the Katapult bootloader burned with an SD card.
    * The advantage of the Katapult firmware is that it can update the firmware without physical contact with the mainboard.
    * The advantage of the bootloader firmware is that you don't have to worry about flashing the wrong firmware.
    * It is best to use `MobaXterm` for firmware configuration. Some special SSH software recommended by the community may lead to compilation failure.
    
    :::

    * Please note that regardless of which firmware it is, ensuring correct firmware compilation is essential, otherwise it could result in the inability to find the normal printing device or even the inability to find the device.

## Firmware Compilation Explanation

    :::tip
    * Note that selecting the `Enable extra low-level configuration options` option is necessary, otherwise, the detailed content will not be displayed.
    :::

### STM32

    * When compiling the STM32 firmware, if configuring `GPIO pins to set at micro-controller startup`, please make sure to use uppercase.

### RP2040

    * When compiling the RP2040 firmware, if configuring `GPIO pins to set at micro-controller startup`, please make sure to use lowercase.

## Firmware Flashing Explanation

    :::danger Notice

    * To flash the `Klipper` firmware through the `Katapult` firmware, ensure that the device can be found. If the device cannot be found, you need to manually click the mainboard reset twice.
    * Do not use methods outside the tutorial to flash the firmware.
    * Check if there are any compilation errors in the firmware. If there are compilation errors, the firmware cannot be flashed normally.

    :::

### Katapult Firmware

    * Solution for flashing the compiled error firmware using the Katapult firmware
    * Click the mainboard reset twice. Normally, an LED should flash after resetting.
    * Clear the mainboard firmware, then re-flash the Katapult firmware.

### Bootloader Firmware

    * Solution for flashing the compiled error firmware using the bootloader firmware
    * Re-flash using the TF card.
    * If it does not flash, please disconnect power, install the memory card into the mainboard, and then power on. It should take five seconds to complete the flashing.
