### Precautions

    1. Do not plug in any device except USB when powered on.
    2. The Type C interface can be used for power supply or as a USB SLAVE interface to burn images.
    3. To ensure normal CM4 power supply, please do not connect other devices when burning images using the Type C interface.
    4. The module has no protection, do not short circuit the power.
    5. The FLY motherboard does not support POE function! Do not use POE for power supply.

:::danger Notice
* Note: The EMMC version cannot use the SD card.
* Note: For the non-EMMC version, use a MICRO SD card to boot, you need to use a card reader to burn the image.
* It is recommended that the transmission speed of the memory card (TF card) must be class10 or above, it is recommended to use TF cards from brands like SanDisk.
:::

    <ImageView image={require('@site/docs/General/rpi/img/emmc.webp').default} size="100%" align="left" />

## Raspberry Pi Pre-installed TFTV2 System Download Link

    * System image suitable for Raspberry Pi 3B/3B+/4B/CM4/5B.
    * This image pre-installs klipper, moonraker, mainsail, fulidd, klipper-screen, etc.

    ```bash
    https://cdn.mellow.klipper.cn/IMG/Beta/RPI-TFT-IMG-new.img.xz
    ```

## Image Download

    * Download the system by clicking [here](https://www.raspberrypi.org/downloads/raspberry-pi-os/) to download the latest released system (or as shown in the figure).
    * If the downloaded file is a torrent file, use software like Xunlei or Comet to download again.

    <ImageView image={require('@site/docs/General/rpi/img/rpi.webp').default} size="70%" align="left" />


    * The image with desktop and recommended software `(Raspberry Pi OS with desktop and recommended software)`, it is recommended to use storage space of 16G or above for EMMC or CM4 lite 16G memory card.

:::danger Notice
The EMMC version needs to switch the DIP switch into CM4 burn mode when powered off. The Lite version can directly burn the image to the system card.
:::

:::danger Notice
* The EMMC version needs to enter burn mode to access, below are the methods to enter burn mode.
* The Lite version does not need to enter burn mode, just format and burn after formatting.
:::

## rpiboot (Bootloader) Download

    * Download and open the rpiboot software with administrator privileges by clicking [here](https://files.waveshare.net/wiki/w/upload/f/f3/Rpiboot_setup.zip)
    * Install drivers and startup tools. After successful installation, there will be an rpiboot.exe application in the installation directory.

    <ImageView image={require('@site/docs/General/rpi/img/boot.webp').default} size="80%" align="left" />

## Enter Burn Mode

    * At this time, connect the computer and power the motherboard, the computer device manager will recognize a BCMxxx device.

        <ImageView image={require('@site/docs/General/rpi/img/bcm2711.webp').default} size="80%" align="left" />


    * Then run rpiboot.

        <ImageView image={require('@site/docs/General/rpi/img/rpiboot.webp').default} size="80%" align="left" />


    * Wait until the operation ends, a U disk drive letter will appear on your computer.

:::danger Notice
Note: If the computer does not recognize the BCMxxx device, there may be a problem with one of the steps above. It is necessary to recognize the BCMxxx device before running rpiboot, otherwise it will be ineffective.
:::


## Format EMMC or SD Card

    * Use the SDFormatter.exe software [click here to download](https://www.waveshare.net/w/upload/d/d7/Panasonic_SDFormatter.zip) to format the SD card.

        <ImageView image={require('@site/docs/General/rpi/img/sdformatter.webp').default} size="80%" align="left" />


    * Or delete partitions using the built-in Windows Disk Management and then re-create partitions.
    * Right-click This PC -> Manage -> Disk Management -> Find the newly added drive letter (choosing wrong one will lead to problems) -> Delete all partitions -> Create a partition (any file system). If the system has been burned before, there will be two drive letters, ignore them and just format or delete partitions.

## Write Image

    1. Use Raspberry Pi Imager [click here to download](https://www.raspberrypi.com/software/) to write the image.
    2. Before burning, configure account password and enable SSH.

            <ImageView image={require('@site/docs/General/rpi/img/imager.webp').default} size="80%" align="left" />


    3. After burning, a U disk drive letter will appear on your computer.

## Finish Burning and Restart

    * After burning, disconnect the power, disconnect the connection with the computer, and put the BOOT dip switch back. Power on again to start.

## Precautions for Raspberry Pi Zero2 and Zero2W

    * These precautions are for the explanation of using FLY-TFT screen with G2T.
    * For Raspberry Pi Zero2 and Zero2W, the default display device needs to be modified, execute the following code directly to modify.
    * Please note that a restart is required after execution to use it.
    ```cfg
    sudo sed -i 's/\/dev\/fb0/\/dev\/fb1/g' /etc/X11/xorg.conf.d/99-fbdev.conf
    ```
