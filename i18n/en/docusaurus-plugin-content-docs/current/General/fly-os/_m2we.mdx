import FALSH from '@site/i18n/en/docusaurus-plugin-content-docs/current/General/fly-os/_falsh.mdx';

# Flashing to M2WE via USB

### Preparation

### Preparation

    * First install the software `SDFormatter` and `Rufus`
    <Button variant="contained" disableElevation component="a" rel="noopener" href="/docs/ResDownload/auxiliary_software/">Formatting Tool</Button>
    * Download [M2WE BOOT driver](/docs/ResDownload/auxiliary_software/ "Click to jump")
    * Extract the system files, after extraction the file name will have a `.img` extension
    * It is not recommended to use `balenaEtcher` or `Raspberry Pi` for system flashing
    * Install M2WE onto M2SD and then plug M2SD into the computer's USB port
    * If there are any data on M2WE, please back them up


### Installing the Driver

    * Open the `Zadig` software
    * Except for the first `Zadig` which does not need to be installed and can run directly, the other two need to be installed. Just click `Next` or `Next` during the installation process
    * Open `Zadig`, check `List All Devices` in the top menu bar `Options`

    <ImageView image={require('@site/docs/General/fly-os/img/zadig.webp').default} size="80%" align="left" />

:::tip
Ensure that the device is connected to the computer while holding down the button
:::

    * After installing M2WE, press and hold the BOOT key and connect the dual-head USB to the computer

    <ImageView image={require('@site/docs/General/fly-os/img/usb-boot.webp').default} size="80%" align="center" />
            <Tabs>
                <TabItem value="c8" label="FLY-C8" default>
                    * FLY-C8 port

                    <ImageView image={require('@site/docs/General/fly-os/img/c8-boot.webp').default} size="80%" align="center" />
                </TabItem>
                <TabItem value="piv2" label="FLY-Pi v2" default>
                    * FLY-Pi v2 port

                    <ImageView image={require('@site/docs/General/fly-os/img/piv2-boot.webp').default} size="80%" align="center" />
                </TabItem>
                <TabItem value="piv1" label="FLY-Pi(Ï€)" default>
                    * FLY-Pi port

                    <ImageView image={require('@site/docs/General/fly-os/img/pi-boot.webp').default} size="80%" align="center" />
                </TabItem>
                <TabItem value="gemini" label="FLY-Gemini" default>
                    * FLY-Gemini port

                    <ImageView image={require('@site/docs/General/fly-os/img/pi-boot.webp').default} size="80%" align="center" />

                </TabItem>
            </Tabs>

    * Open zadig

    <ImageView image={require('@site/docs/General/fly-os/img/zadig1.webp').default} size="80%" align="left" />

    * If everything is normal, an additional `Unknown Device #x` or `USB Device(VID_1f3a_PID_efe8)` will appear in zadig, select it

    <ImageView image={require('@site/docs/General/fly-os/img/zadig2.webp').default} size="80%" align="left" />

    * After selecting the device, check if the USB ID matches the one in the above picture. If not, please reselect another device
    * The second place in the above picture can only select `WinUSB(vxxxxxxx)`, the version number doesn't matter
    * Click `Install Driver` to install the driver

    <ImageView image={require('@site/docs/General/fly-os/img/zadig3.webp').default} size="80%" align="left" />
:::tip
    * USB driver installation successful (the driver only needs to be installed once, if you burn again later, you don't need to reinstall the driver)
    * Open the installed FLY-BOOT, click `Check Device`
    * If all the previous steps are correct, it will prompt that an available device is found
    * Click `Start BOOT`, if normal, it will prompt that `BOOT` has been successfully enabled
:::
### Formatting M2WE

    * Use the `TFFormatter.exe` software to format the `BOOT` disk

    <ImageView image={require('@site/docs/General/fly-os/img/sdformatter.webp').default} size="80%" align="left" />

    * Or use the built-in disk management in WIN to delete the partition, after deleting the partition, just create a new partition
    * Now you can open File Explorer, a 14.5G U-disk (16G eMMC shows as 14.5G) will appear
    * You can now use Win32diskimager to flash the system image, choose the drive letter of this 14.5G U-disk


### Flashing to M2WE

<FALSH />
