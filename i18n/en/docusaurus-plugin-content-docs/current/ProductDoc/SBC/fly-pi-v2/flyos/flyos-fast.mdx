---
sidebar_position: 1
sidebar_label: FLYOS-FAST System Flashing
---

Strongly recommended!!! This system is a system customized by FLY for 3D printers!

# FLYOS-FAST System Flashing

## System Flashing

FLYOS-FAST system flashing tutorial: <Button variant="contained" disableElevation href="/docs/DebugDoc/flyos-fast/#introduction">FLYOS-FAST system flashing tutorial</Button>


<br/>
<br/>
<br/>


## System Introduction

* FlyOS-Fast is a lightweight Linux system customized for 3D printing, with fast boot time (only 30 seconds). It supports all Fly series host platforms.
* Optimized kernel to enhance real-time response performance of Klipper
* Optimized file system to prevent system damage caused by direct power loss
* Pre-installed services including Klipper, RRF, Mainsail, Fluidd, Moonraker, KlipperScreen, etc.
* Supports switching between Klipper and RRF systems
* Supports one-click online switching between Mainsail and Fluidd
* Supports USB disk printing
* With KPPM module, it can achieve power-off resume printing
* Supports presetting default language and printer name for front-end UIs like Fluidd
* More OEM customization functions such as setting startup logo, preset configuration files, hiding Mainsail tab pages, etc., please contact us.

## Preparation

1. Download system image
    - Image link: [Piv2 system image download](https://g-ofpa1390.coding.net/public-artifacts/3D-Printers/flyos-fast/FlyOS-Fast-H5.exe/version/50907014/overview "Click this link to jump") (only supports Windows)  
    - Image link: [Piv2 system image download](https://g-ofpa1390.coding.net/public-artifacts/3D-Printers/flyos-fast/FlyOS-Fast-H5.7z/version/50907002/overview "Click this link to jump") (supports Windows, MacOS, Linux)

    <ImageView image={require('@site/docs/ProductDoc/SBC/fly-pi-v2/img/flyos-fast_download.webp').default} size="90%" align="center" />


2. Download the burning tool, this tutorial will use `Rufus` as an example. Actually, other tools can be used, such as `Etcher`, `Win32 Disk Imager`, etc.
    - Rufus download address: [Download Chinese](https://rufus.ie/zh/#download) or [Click Download English](https://rufus.ie/en/#download) (only supports Windows).
    - Etcher download address: [Click Download](https://etcher.balena.io/#download-etcher) (supports Windows, MacOS, Linux).
    - Win32 Disk Imager download address: [Click Download](https://sourceforge.net/projects/win32diskimager/) (only supports Windows).

3. This tutorial will use `FlyOS-Fast-H5.exe` as an example.

4. Extract the system image file to get the `.img` file.
    - Double-click or right-click to open `FlyOS-Fast-H5.exe`, wait a few seconds, and a window will pop up (if the system prompts that it is unsafe, select "More info" -> "Run").
    - You can choose the extraction directory, then click the `Extract` button, wait for the extraction to complete.
    
    <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/ext1.webp').default} size="60%" align="center" />

    - After extraction, a `FlyOS-Fast-H5-vx.x.x.img` file will be generated in the extraction directory. `x.x.x` is the system version number.

## Flashing Image

    <Tabs>
        <TabItem value="TF" label="Flashing to TF Card" default>

            1. - The TF card used for flashing needs to be larger than 4GB, it is recommended to use SanDisk 32GB C10 or higher TF card (test found that many cheap cards cannot start after flashing).
               - The TF card used for flashing needs to use an SD card reader, insert the burning card into the reader, then insert the reader into the computer.
            2. Open `Rufus`, select the device. The selected device should display a capacity consistent with the burning card inserted into the computer.  
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash1.webp').default} size="40%" align="center" />
    
            3. Select the image file, click the `Select` button on the right side of the `Boot Selection Type`, and select the `.img` file after extraction.
            4. After selecting the image file, the `Boot Selection Type` will become the file name of the image file.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash2.webp').default} size="40%" align="center" />
            
            5. Click the `Start` button, if a window pops up and prompts that disk data needs to be cleared, click `OK`.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash3.webp').default} size="50%" align="center" />
            
            6. After flashing is completed, the computer will emit a prompt sound, and the progress bar will display as `Ready`.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash4.webp').default} size="40%" align="center" />
            
            7. Do not rush to remove the burned card after flashing is completed.
            8. Open File Explorer, check whether there is a named `FlyOS-Conf` USB drive or removable disk.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash5.webp').default} size="60%" align="center" />
            
            9. Open `FlyOS-Conf`, if there are two files shown in the image below, then the flashing is successful.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash6.webp').default} size="70%" align="center" />
            
            10. Among them, the `config.txt` is the system configuration file, please see the next page for its content. Modify the configuration file.

        </TabItem>
        <TabItem value="M2WE" label="Flashing to M2WE via USB">
        
            1. Download driver:
               - <Button variant="contained" disableElevation href="https://cdn.mellow.klipper.cn/Utils/zadig-2.7.exe">M2WE driver program</Button>
               - <Button variant="contained" disableElevation href="https://cdn.mellow.klipper.cn/Utils/FLY-BOOT-Setup.msi">M2WE BOOT startup tool</Button>

            2. Install driver:
               - Open `Zadig`, check `List All Devices` in the top menu bar `Options`
    
            <ImageView image={require('@site/docs/General/fly-os/img/zadig.webp').default} size="80%" align="left" />
            
            3. Install M2WE, then press the `BOOT` button on the motherboard and connect the host to the computer using a **double-headed USB** data cable.
    
            <ImageView image={require('@site/docs/ProductDoc/SBC/fly-pi-v2/img/piv2_boot1.webp').default} size="70%" align="center" />
            <ImageView image={require('@site/docs/ProductDoc/SBC/fly-pi-v2/img/piv2_boot2.webp').default} size="70%" align="center" />
    
            4. Open zadig
    
            <ImageView image={require('@site/docs/General/fly-os/img/zadig1.webp').default} size="80%" align="center" />
        
            5. If everything is normal, a `Unknow Device #x` or `USB Device(VID_1f3a_PID_efe8)` will appear in zadig at this time, select it
        
            <ImageView image={require('@site/docs/General/fly-os/img/zadig2.webp').default} size="80%" align="center" />
        
            6. Check whether the USB ID is consistent with the above picture after selecting the device, if not, please select another device
            7. The second place in the above picture can only select `WinUSB(vxxxxxxx)`, the version number doesn't matter
            8. Click `Install Driver` to install the driver, **the driver only needs to be installed once on the same computer**
    
            <ImageView image={require('@site/docs/General/fly-os/img/zadig3.webp').default} size="80%" align="center" />

            9. Open the installed FLY-BOOT, click `Check Device`, if the previous steps are correct, it will prompt that a usable device is found
            <ImageView image={require('@site/docs/General/fly-os/img/fly_boot1.webp').default} size="60%" align="center" />

            10. Click to start `BOOT`, if it is normal, it will prompt that `BOOT` has been successfully enabled, wait a few seconds before proceeding to the next step

            <ImageView image={require('@site/docs/General/fly-os/img/fly_boot2.webp').default} size="60%" align="center" />
            
            11. Open `Rufus`, select the device. The selected device should display a capacity consistent with the burned card inserted into the computer.  
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash1.webp').default} size="40%" align="center" />
    
            12. Select the image file, click the `Select` button on the right side of the `Boot Selection Type`, and select the `.img` file after extraction.
            13. After selecting the image file, the `Boot Selection Type` will become the file name of the image file.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash2.webp').default} size="40%" align="center" />
            
            14. Click the `Start` button, if a window pops up and prompts that disk data needs to be cleared, click `OK`.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash3.webp').default} size="50%" align="center" />
            
            15. After flashing is completed, the computer will emit a prompt sound, and the progress bar will display as `Ready`.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash4.webp').default} size="40%" align="center" />
            
            16. Do not rush to remove the burned card after flashing is completed.
            17. Open File Explorer, check whether there is a named `FlyOS-Conf` USB drive or removable disk.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash5.webp').default} size="60%" align="center" />
            
            18. Open `FlyOS-Conf`, if there are two files shown in the image below, then the flashing is successful.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash6.webp').default} size="70%" align="center" />
            
            19. Among them, the `config.txt` is the system configuration file, please see the next page for its content. Modify the configuration file

        </TabItem>
        <TabItem value="M2SD" label="Flashing to M2WE or TF Card via M2SD Burner">
            :::danger Notice
                * This product supports USB3.0
                * This product does not support simultaneous installation of TF and M2WE
                * After installing M2WE or SD card, connect it to the computer's USB port, you can format it
                * Do not install NVME or other devices, otherwise it will cause device damage !!!
            :::
            
            1. Install M2WE or SD card onto the M2SD. If using TF card for burning, the TF card needs to be larger than 4GB, it is recommended to use SanDisk 32GB C10 or higher TF card (test found that many cheap cards cannot start after burning)
                - Install M2WE
                <ImageView image={require('@site/docs/General/fly-os/img/m2sd/m2sd-1.webp').default} size="100%" align="left" />
                - Install SD card
                <ImageView image={require('@site/docs/General/fly-os/img/m2sd/m2sd.webp').default} size="100%" align="left" />

            2. Open `Rufus`, select the device. The selected device should display a capacity consistent with the burned card inserted into the computer.  
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash1.webp').default} size="40%" align="center" />
    
            3. Select the image file, click the `Select` button on the right side of the `Boot Selection Type`, and select the `.img` file after extraction.
            4. After selecting the image file, the `Boot Selection Type` will become the file name of the image file.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash2.webp').default} size="40%" align="center" />
            
            5. Click the `Start` button, if a window pops up and prompts that disk data needs to be cleared, click `OK`.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash3.webp').default} size="50%" align="center" />
            
            6. After flashing is completed, the computer will emit a prompt sound, and the progress bar will display as `Ready`.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash4.webp').default} size="40%" align="center" />
            
            7. Do not rush to remove the burned card after flashing is completed.
            8. Open File Explorer, check whether there is a named `FlyOS-Conf` USB drive or removable disk.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash5.webp').default} size="60%" align="center" />
            
            9. Open `FlyOS-Conf`, if there are two files shown in the image below, then the flashing is successful.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash6.webp').default} size="70%" align="center" />
            
            10. Among them, the `config.txt` is the system configuration file, please see the next page for its content. Modify the configuration file.

        </TabItem>
    </Tabs>

## Connecting WiFi

    1. Use `vscode` or other professional text editors to open `config.txt` (**Do not use the built-in Notepad of Windows to edit configuration files**)
    <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash6.webp').default} size="70%" align="center" />

    2. Fill in your **WiFi name** in the `WIFI_SSID=""` option within the `""`, and fill in your **WiFi password** in the `WIFI_PASS="""` option within the `""`.
    <ImageView image={require('@site/docs/ProductDoc/SBC/fly-pi-v2/img/osfast_wifi.webp').default} size="70%" align="center" />  
  
    3. At this point, your host can already start up!!!  
    Please proceed to the next step: <Button variant="contained" disableElevation href="/docs/ProductDoc/SBC/fly-pi-v2/ssh">SSH connection to the host</Button>

## Modifying Other System Configuration Options

For modifying other system configuration options, please refer to: <Button variant="contained" disableElevation href="/docs/DebugDoc/flyos-fast/config">System Configuration Modification</Button>
