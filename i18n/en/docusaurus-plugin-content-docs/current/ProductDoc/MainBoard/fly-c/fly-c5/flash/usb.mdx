---
sidebar_position: 3
sidebar_label: USB Firmware Burning
---


import MakeOperate from "/docs/General/flyos-fast/_firmware_make_operate.mdx";
import USB from '@site/i18n/en/docusaurus-plugin-content-docs/current/General/dfu-flash/_firmware/723/_usb.mdx';
import GetUsbID from '@site/i18n/en/docusaurus-plugin-content-docs/current/General/get-id/_get-usbid-flyosfast.mdx';



# USB Firmware Compilation


## Check DIP Switch

    :::danger Note
    - When in normal use, please set the `DIP switch to the up position`
    - When switching the DIP switch, please push it all the way up, otherwise it may fail to connect to the lower-level machine!!!
    :::
        <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-c/fly-c5/flash/img/dip_switch.webp').default} size="60%" align="center" />


## SSH Connection to Host Machine

    :::danger Warning
    - Before compiling the firmware, you need to use `WiFi to connect to the host machine via SSH`
    :::

 * First, please: <Button variant="contained" disableElevation component="a" rel="noopener" href="/docs/ProductDoc/MainBoard/fly-c/fly-c5/ssh#use-wifi-to-connect-to-the-host-machine-ssh">Use WiFi to connect to the host machine SSH</Button>  
 ---
 <br/>

    <Tabs>
    <TabItem value="usb" label="USB Firmware Burning" default>
    ### USB Firmware Burning
        :::tip Tip
        - A pre-compiled USB firmware is available in the FLYOS-FAST system, so there is no need to manually compile the firmware; just execute the command below to burn it.
        - Alternatively, you can choose to `manually compile the USB firmware` and compile the firmware yourself.
        :::

        * Enter the following command through SSH connection to the host machine
        ```bash
        fly-flash -d c5 -h -f /usr/lib/firmware/klipper-h723-128k-usb.bin
        ```
        <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-c/fly-c5/flash/img/usb1.webp').default} size="80%" align="center" />
        <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-c/fly-c5/flash/img/usb2.webp').default} size="80%" align="center" />
    

    </TabItem>

    <TabItem value="can" label="Manually Compile USB Firmware">
    ## Manually Compile USB Firmware

        <MakeOperate/>
    
        <USB />
    
        * Press `Q` key, a `Save configuration` prompt will appear, then press `Y` key
        <ImageView image={require('@site/docs/General/dfu-flash/img/configuration.webp').default} size="40%" align="center" />
    
        * Now the configuration should be saved, and you should have returned to the command line interface
    
        * Enter the following command to start compiling, this process takes some time
        ```bash
        make -j4
        ```
        <ImageView image={require('@site/docs/General/flyos-fast/img/firmware_build1.webp').default} size="60%" align="center" />
    
        * Finally, if the output is as follows, the compilation is successful
        <ImageView image={require('@site/docs/General/flyos-fast/img/firmware_build2.webp').default} size="60%" align="center" />
        ---
        
        ### Firmware Burning
        
        :::tip
        Execute the following command to burn the firmware
        :::
        
            ```bash
            fly-flash -d c5 -h -f ~/klipper/out/klipper.bin
            ```
        <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-c/fly-c5/flash/img/usb3.webp').default} size="80%" align="center" />
        <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-c/fly-c5/flash/img/usb2.webp').default} size="80%" align="center" />

    </TabItem>
</Tabs>
---

<GetUsbID />


<br/>
