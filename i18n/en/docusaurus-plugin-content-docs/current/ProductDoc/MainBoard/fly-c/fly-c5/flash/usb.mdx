---
sidebar_position: 3
sidebar_label: USB Firmware Burning
---


import MakeOperate from "/docs/General/flyos-fast/_firmware_make_operate.mdx";
import USB from '@site/i18n/en/docusaurus-plugin-content-docs/current/General/dfu-flash/_firmware/723/_usb.mdx';
import GetUsbID from '@site/i18n/en/docusaurus-plugin-content-docs/current/General/get-id/_get-usbid-flyosfast.mdx';



# USB Firmware Compilation


## Check DIP Switch

    :::danger Notice
    - When in normal use, please set the `DIP switch to the up position`
    - When switching the DIP switch, please fully push it upwards, otherwise it may fail to connect to the lower-level machine!!!
    :::
        <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-c/fly-c5/flash/img/dip_switch.webp').default} size="60%" align="center" />


## SSH Connection to Host Machine

    :::danger Warning
    - Before firmware compilation, you need to use `WiFi to connect to the host machine SSH`
    :::

 * First, please: <Button variant="contained" disableElevation component="a" rel="noopener" href="/docs/ProductDoc/MainBoard/fly-c/fly-c5/ssh#using-wifi-to-connect-to-the-host-machine-ssh">Use WiFi to Connect to the Host Machine SSH</Button>  
 ---
 <br/>

    <Tabs>
    <TabItem value="usb" label="USB Firmware Burning" default>
    ### USB Firmware Burning
        :::tip Tip
        - A USB firmware has been precompiled in the FLYOS-FAST system, no need to manually compile the firmware, just execute the command below to burn it
        - You can also choose to `Manually Compile USB Firmware` and compile the firmware yourself
        :::

        * Input the following command through SSH connection to the host machine
        ```bash
        fly-flash -d c5 -h -f /usr/lib/firmware/klipper-h723-128k-usb.bin
        ```
        <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-c/fly-c5/flash/img/usb1.webp').default} size="80%" align="center" />
        <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-c/fly-c5/flash/img/usb2.webp').default} size="80%" align="center" />
    

    </TabItem>

    <TabItem value="can" label="Manually Compile USB Firmware">
    ## Manually Compile USB Firmware

        <MakeOperate/>
    
        <USB />
    
        * Press `Q` key, a `Save configuration` message will appear, then press `Y` key
        <ImageView image={require('@site/docs/General/dfu-flash/img/configuration.webp').default} size="40%" align="center" />
    
        * Now the configuration should be saved and returned to the command line interface
    
        * Enter `make -j4` to start compiling, it takes some time
        <ImageView image={require('@site/docs/General/flyos-fast/img/firmware_build1.webp').default} size="60%" align="center" />
    
        * Finally, if the output is as follows, the compilation is successful
        <ImageView image={require('@site/docs/General/flyos-fast/img/firmware_build2.webp').default} size="60%" align="center" />
        ---
        
        ### Firmware Burning
        
        :::tip
        Execute the following command to burn the firmware
        :::
        
            ```bash
            fly-flash -d c5 -h -f ~/klipper/out/klipper.bin
            ```
        <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-c/fly-c5/flash/img/usb3.webp').default} size="80%" align="center" />
        <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-c/fly-c5/flash/img/usb2.webp').default} size="80%" align="center" />

    </TabItem>
</Tabs>
---

<GetUsbID />


<br/>
