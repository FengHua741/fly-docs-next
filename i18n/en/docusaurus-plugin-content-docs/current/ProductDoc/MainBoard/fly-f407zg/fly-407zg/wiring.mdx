---
sidebar_position: 4
sidebar_label: Main Board Wiring
---

# Main Board Wiring

## Interface Diagram

### Interface Description

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/interface.webp').default} size="50%" align="center" />

----

### Pin Description

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/pin.webp').default} size="50%" align="center" />

---

## Power Wiring

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/power.webp').default} size="40%" align="center" />
----

## Driver Installation

### Main Board Driver Jumper

* **STEP/DIR mode.** In this mode, the subdivision is set by using a jumper cap, and the current is adjusted by regulating the potentiometer. The most common ones are A4988, 8825 drivers which need to refer to the subdivision configuration table provided by the manufacturer, and then set the subdivision through the jumper cap.
* **UART mode.** The most commonly used drivers in this mode include: TMC2208, TMC2209, TMC2226, etc. These driver chips can communicate asynchronously with the main controller via UART serial communication, and the driver's subdivision, operating current, silent mode, etc., can be set by modifying the configuration file.
* **SPI mode.** The most commonly used drivers in this mode include: TMC5160, TMC2130, TMC2240, etc., which can also set the driver's subdivision, operating current, silent mode, etc., by modifying the configuration file.

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/drive-dip.webp').default} size="40%" align="center" />

----

### Driver Installation

* Drivers need to be checked accordingly before installation to avoid damaging the driver or motherboard.
* **FLY driver:** If the end-of-travel reset function is not used, please set the DIP switch to position 1; conversely, if you want to use the end-of-travel reset function, please set the DIP switch to ON.

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/fly2209.webp').default} size="40%" align="center" />

    :::danger

    * **Warning!!! When installing the driver module, make sure the direction is correct, that is, the EN pin should be at the top left, otherwise it may damage the driver or even the motherboard!!! Make sure to attach a heatsink to the driver!!!

    :::

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/drive-install.webp').default} size="40%" align="center" />


----

## Stepper Motor Wiring

:::info
* Regardless of the manufacturer, a two-phase stepper motor ultimately appears as four wires. Regardless of color, black, white, green, yellow, etc., they all correspond to four wires. Therefore, we need to group the wires into groups A and B.
* For a two-phase four-wire stepper motor, we do not need to know which is group A or group B; mainly, we just need to confirm one group, and modify the motor direction in the configuration.
:::

* In a 3D printer, the most commonly used is a two-phase four-wire stepper motor, whose principle is shown in the figure below. There are two methods to identify the phase sequence of a stepper motor:
    * Connect any two phase wires, and manually turn the motor shaft. If there is a noticeable resistance, then these two phase wires belong to one group. Conversely, they do not belong to the same group, and another pair of phase wires needs to be tested.
    * Use a multimeter, set to continuity mode, and test any two phase wires of the stepper motor. If they are continuous, they belong to one group; conversely, they do not belong to the same group, and another pair of phase wires needs to be tested.
    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/motor-sch.webp').default} size="50%" align="center" />

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/motor.webp').default} size="40%" align="center" />

----

## Heater Wiring

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/heater.webp').default} size="60%" align="center" />

----

## Bed Wiring

* **AC bed:** When wiring the solid-state relay, please pay attention to not connecting the input and output incorrectly.

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/bed-ac-1.webp').default} size="20%" align="center" />
    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/bed-ac-2.webp').default} size="40%" align="center" />

* **DC bed:** When connecting a DC bed to the on-board MOS, please pay attention to the power usage. The maximum current for a DC bed cannot exceed 10A. If it exceeds 10A, it is recommended to use an external MOS module for the bed to avoid irreversible damage to the motherboard.

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/bed-dc.webp').default} size="60%" align="center" />

----

## Temperature Sensor Wiring

### Temperature Sensor Introduction

* The wiring method for the temperature sensor is as follows. Please consult the purchasing merchant for the type of thermistor.

* If purchased from FLY (as shown below), please configure the sensor_type as: **ATC Semitec 104GT-2**

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/ntc-1.webp').default} size="30%" align="center" />

* If it is a regular NTC 100K (as shown below), please configure the sensor_type as: **Generic 3950**

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/ntc-2.webp').default} size="40%" align="center" />
    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/ntc-3.webp').default} size="40%" align="center" />

----

### Main Board Temperature Sensor Wiring

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/ntc-4.webp').default} size="40%" align="center" />
    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/ntc-5.webp').default} size="40%" align="center" />



----

## Fan Wiring

* **Fan Wiring**

    :::tip

    * MOS needs to be installed.

    :::

    * Fan Wiring
    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/fan.webp').default} size="30%" align="center" />

----

## Limit Switch Wiring

* Limit switches have two types: normally open (NO) and normally closed (NC). Generally, in 3D printers, it is recommended to use **normally closed (NC)**. This way, when the limit switch circuit has problems, the system will promptly report an error, avoiding unnecessary collisions and damage to the printer.

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/endstop.webp').default} size="40%" align="center" />

----

## Leveling Sensor Wiring

### BL-Touch Wiring

* BL-touch has a total of five wires, three of which form the first group, responsible for powering the sensor and controlling the probe's retraction. The second group consists of the ground wire and signal line, outputting limit signals. Please carefully verify the wire sequence when wiring the BL-touch; incorrect wiring may permanently damage the sensor and motherboard!!! The wiring method is as shown below.

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/bltouch.webp').default} size="40%" align="center" />

----

### Klicky Wiring

* Klicky is a third-party leveling sensor that can be made at home with low cost and stable performance, offering high value for money, and is recommended for use. The wiring method is as shown below.
* Project link: [jlas1/Klicky-Probe](https://github.com/jlas1/Klicky-Probe "Project link, click to jump")

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/klicky.webp').default} size="40%" align="center" />

----

### Voron Tap Wiring

* Tap is a Z-probe based on the nozzle, suitable for V2 and Trident printer designs. The entire tool head moves to trigger the optical switch, providing better precision than conventional limit switches and can be used with almost all printing platforms available on the market.

    :::warning

    Voron Tap is not recommended to connect to **24V**, some versions may cause the Tap sensor to burn out with a certain probability due to the design defect of Voron Tap, not a problem with Fly products.

    :::

    :::danger

    Note: The 5V and GND cannot be reversed, otherwise it may damage the Tap sensor or even the motherboard!!!

    :::

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/tap.webp').default} size="40%" align="center" />

----


## Connecting to Host

* The motherboard connects to the host's USB port via a Type-B interface, or it can be connected to the host via a serial port. Only the former is introduced here.

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/connect-host.webp').default} size="40%" align="center" />

----