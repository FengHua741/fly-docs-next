---
sidebar_position: 4
sidebar_label: RS232 Firmware Compilation and Burning
---

import USBFLASH from '@site/i18n/en/docusaurus-plugin-content-docs/current/General/dfu-flash/_firmware/2040/_rp2.mdx';
import MakeOperate from "/docs/General/klipper-make/_make-operate.mdx";
import RS232 from '@site/i18n/en/docusaurus-plugin-content-docs/current/General/dfu-flash/_firmware/2040/_rs232.mdx';
import SSH from '@site/i18n/en/docusaurus-plugin-content-docs/current/General/dfu-flash/_firmware/_ssh.mdx';

import LS from '@site/i18n/en/docusaurus-plugin-content-docs/current/General/dfu-flash/_uf2.mdx';

    ## Diagram of KF Wiring
        <ImageView image={require('@site/docs/ProductDoc/ToolBoard/TOOL-LITE/TOOL-LITE-232/img/kf2.webp').default} size="50%" align="left" />
    ## Diagram of XT30 Wiring
        <ImageView image={require('@site/docs/ProductDoc/ToolBoard/TOOL-LITE/TOOL-LITE-232/img/xt301.webp').default} size="50%" align="left" /> 
# RS232 Firmware Compilation

## Start Compilation

    <SSH />

    <MakeOperate/>

    <RS232 />

    * Select **GPIO pins to set at micro-controller startup**, input: **!gpio18**
    :::warning
        Please enter `!gpio18` in English input mode.
    :::
        <ImageView image={require('@site/docs/ProductDoc/ToolBoard/TOOL-LITE/TOOL-LITE-232/img/rs232.webp').default} size="100%" align="center" />
    * Press the `Q` key, a **Save configuration** prompt will appear, then press the `Y` key
    <ImageView image={require('@site/docs/General/dfu-flash/img/configuration.webp').default} size="40%" align="center" />
    * Now the configuration should be saved and you should exit to the command line interface
    * Enter the following command to start compiling, it may take some time
    ```bash
    make -j4
    ```
        <ImageView image={require('@site/docs/General/dfu-flash/img/make.webp').default} size="50%" align="center" />
    * If the output below appears, the compilation is successful

        ```bash
        Linking out/klipper.elf
        Creating uf2 file out/klipper.uf2
        ```


## Enter Bootloader Mode

    :::tip

    The arrow points to the `BOOT button`

    :::

    * With the tool board **completely powered off**, press and hold the **BOOT button**, use a Type-C data cable with data transfer capability to connect the **tool board** to the **host computer's USB port**, release the **BOOT button** after correctly connecting to the host computer.
        <ImageView image={require('@site/docs/ProductDoc/ToolBoard/TOOL-LITE/TOOL-LITE-232/img/boot.webp').default} size="80%" align="center" />

## Confirm Entering Bootloader Mode
    * Ensure the host computer can connect to the network normally and ensure that the data cable connecting the lower-level machine to the host computer has data transfer capabilities.
    * After SSH connecting to the host computer, input `lsusb` and press Enter. If the information circled in the image below appears, you can proceed to the next step.
        * If there is no feedback at all, this is a problem with the host computer system, and we are unable to help. You need to replace a confirmed normal system or replace the host computer.
        * If the `lsusb` command is not found, you can execute this command to install it:
            ```bash
            sudo apt-get install usbutils
            ```
            <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-micro/fly-micro4/flash/img/6177.webp').default} size="70%" align="center" /> 
    * The suffix `OpenMoko, Inc. rp2040` has the basis for judgment `XX`, where `XX` is variable.
        * Some host computers may display incompletely or not display due to system problems.


## Burn RS232 Firmware
    
    <USBFLASH />
    


## Confirm Firmware Startup

    * If the firmware starts up normally, the **LED will light up** as shown in the image below.
        <ImageView image={require('@site/docs/ProductDoc/ToolBoard/TOOL-LITE/TOOL-LITE-232/img/led.webp').default} size="50%" align="center" />
