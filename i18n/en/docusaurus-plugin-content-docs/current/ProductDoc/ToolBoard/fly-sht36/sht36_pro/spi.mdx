---
sidebar_position: 8
sidebar_label: Solutions for SPI Usage Issues
---

# Unable to Use Onboard 5160 Driver

    ```bash
    Unable to write tmc spi 'extruder' register IHOLD_IRUN
    ```

## Specific Reasons

    * If an error message appears at the bottom when using 5160, it is due to the version issue of the host computer Arm toolchain `arm-none-eabi-gcc`

## Solutions
    There are three solutions as follows

    * Change the compilation toolchain `arm-none-eabi-gcc` from `gcc10` to `gcc8`
    * Change the host computer system
    * Flash the normal firmware

    For firmware download and burning, please note that the tool board needs to be able to connect to CAN normally and have CANBOOT

    * Download

    ```bash
    cd ~/ && git clone https://github.com/FengHua741/FLY_Katapult.git
    ```
    * Burn

    ```
    python3 ~/klipper/lib/canboot/flash_can.py -f ~/FLY_Katapult/Klipper/SHT36PRO/SHT36PRO_KLIPPER_CAN-1M_v0.12.0-229-g589bd64c.bin -u <SHT36PRO_canid>
    ```