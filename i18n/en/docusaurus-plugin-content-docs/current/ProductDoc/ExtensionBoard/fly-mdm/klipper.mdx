---
sidebar_position: 4
sidebar_label: Klipper Configuration
---

# Klipper Configuration

## Filament Runout Function Configuration

```cfg
[filament_switch_sensor mdm_switch_sensor]
switch_pin: ^PG12 # Replace with your own pin connected to the filament runout detection pin
pause_on_runout: True
# When set to "True", the printer will pause immediately after detecting depletion.
# Note that if pause_on_runout is False and no runout_gcode is defined,
# the depletion detection will be disabled.
# Default is True.

runout_gcode:
    PAUSE
    M118 Filament out
# insert_gcode:
event_delay: 1.0
# Minimum delay time (in seconds) between events.
# Events triggered within this period will be ignored by default.
# Default is 3 seconds.

pause_delay: 0.5
# Delay time (in seconds) between the pause command and the execution of runout_gcode.
# If using OctoPrint, increasing this delay may improve the reliability of the pause.
# If OctoPrint exhibits strange pause behavior, consider increasing this delay.
# Default is 0.5 seconds.

```

## Filament Jam Function Configuration

```cfg
[filament_motion_sensor mdm_motion_sensor]
switch_pin: PD6       # Replace with your own pin connected to the filament jam detection pin
detection_length: 3.5 # Minimum distance to trigger a change in the state of the switch_pin
extruder: extruder
# The extruder associated with this sensor.
# This parameter must be provided.

# pause_on_runout:
runout_gcode:
    PAUSE
    M118 Filament jam
# insert_gcode:
event_delay: 3.0
pause_delay: 1.0

```
