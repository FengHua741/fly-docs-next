## 注意事項

    1. 帯電時にUSB以外のデバイスを抜き差ししないでください
    2. Type C インターフェースは給電にも使用でき、USB SLAVEインターフェースとしてイメージの焼込も可能です
    3. CM4の給電を正常に保つために、Type C インターフェースを使用してイメージを焼込む際は他のデバイスを接続しないでください
    4. モジュールには保護が付いていませんので、電源をショートさせないでください
    5. FLYマザーボードはPOE機能をサポートしていません！ POEによる給電は使用しないでください

:::danger 調整が必要です
* 注意：EMMCバージョンはSDカードを使用できません
* 注意：EMMCなしのバージョンはMICRO SDカードを使用して起動する必要があり、その際はリーダーを使用してイメージを焼込む必要があります
* メモリカードはTFカードの転送速度が`class10`級またはそれ以上であることを推奨します。サンディスクなどのブランドのTFカードを使用することをおすすめします
:::

    <ImageView image={require('@site/docs/General/rpi/img/emmc.webp').default} size="100%" align="left" />

## 樹莓派にTFTV2システムを事前にインストールしたダウンロードリンク

    * Raspberry Pi 3B/3B+/4B/CM4/5B用のシステムイメージ
    * このイメージにはklipper、moonraker、mainsail、fulidd、klipper-screenなどが事前にインストールされています

    ```bash
    https://cdn.mellow.klipper.cn/IMG/Beta/RPI-TFT-IMG-new.img.xz
    ```

## イメージのダウンロード

    * システムをダウンロードするには[こちらをクリック](https://www.raspberrypi.org/downloads/raspberry-pi-os/)してください（または図に示されているように）
    * もしシードファイルをダウンロードした場合は、迅雷や彗星などのソフトウェアを使って再度ダウンロードしてください

    <ImageView image={require('@site/docs/General/rpi/img/rpi.webp').default} size="70%" align="left" />


    * デスクトップと推奨ソフトウェアが付属しているイメージ`(Raspberry Pi OS with desktop and recommended software)`は、EMMC 16GまたはCM4 lite 16G以上のストレージ容量がある場合に推奨されます

:::danger 調整が必要です
EMMCバージョンは電源を切った状態で切り替えスイッチを入れ替えてCM4焼込モードに入ります。Liteバージョンはシステムカードにイメージを焼込むだけです
:::

:::danger 調整が必要です
* EMMCバージョンは焼込モードに入らないと使用できません。以下に焼込モードに入る方法があります
* Liteバージョンは焼込モードに入らなくても構いません。フォーマット後に焼込むことができます
:::

## rpiboot（ブートローダー）のダウンロード

    * rpibootソフトウェアをダウンロードし、管理者権限で開く[こちらをクリック](https://files.waveshare.net/wiki/w/upload/f/f3/Rpiboot_setup.zip)
    * ドライバーと起動ツールをインストールするために
    * インストールが成功したら、インストールディレクトリにrpiboot.exeというアプリがあります

    <ImageView image={require('@site/docs/General/rpi/img/boot.webp').default} size="80%" align="left" />

## 焼込モードに入る

    * この時点でコンピュータに接続し、マザーボードに給電すると、デバイスマネージャーでBCMxxxのデバイスが認識されます

        <ImageView image={require('@site/docs/General/rpi/img/bcm2711.webp').default} size="80%" align="left" />


    * 次にrpibootを実行します

        <ImageView image={require('@site/docs/General/rpi/img/rpiboot.webp').default} size="80%" align="left" />


    * 実行が終わると、マイコンピューターにUドライブのドライブ文字が出ます

:::danger 調整が必要です
注意：コンピュータがBCMxxxのデバイスを認識しなければ、上のいずれかの手順に問題があります。BCMxxxのデバイスを認識してからrpibootを実行する必要があります。そうでなければ無効です
:::


## EMMCまたはSDカードのフォーマット

    * SDFormatter.exe[こちらをクリック](https://www.waveshare.net/w/upload/d/d7/Panasonic_SDFormatter.zip)ソフトウェアを使用してSDカードをフォーマットします

        <ImageView image={require('@site/docs/General/rpi/img/sdformatter.webp').default} size="80%" align="left" />


    * または、Windowsの組み込みディスク管理でパーティションを削除し、パーティションを削除した後、新たにパーティションを作成できます
    * このコンピューターの右クリック -> マネージメント -> ディスク管理 -> 新しいドライブ文字を選択（間違えるとダメです） -> 全てのパーティションを削除 -> 新たなパーティションを作成（任意のファイルシステム）焼録済みのシステムには2つのドライブ文字がありますが、気にせずフォーマットまたはパーティションを削除することができます

## イメージの焼込

    1. Raspberry Pi Imager [こちらをクリック](https://www.raspberrypi.com/software/)を使用してイメージを焼込みます。
    2. 焼き込み前にユーザー名とパスワードを設定し、SSHを開きます

            <ImageView image={require('@site/docs/General/rpi/img/imager.webp').default} size="80%" align="left" />


    3. 焼き込みが完了すると、私のコンピューターにUドライブのドライブ文字が出ます

## 焼き込み完了と再起動

    * 焼き込みが完了したら、電源を切り、コンピュータとの接続線を切り、BOOTスイッチを元に戻します。再度電源を入れると動作します

## 樹莓派zero2とzero2Wの注意事項

    * この注意事項はG2Tを使用してFLY-TFT画面を使用する場合の説明です
    * 樹莓派zero2とzero2wはデフォルト表示デバイスを変更する必要があります。以下のコードを実行して直接変更することができます
    * 実行が完了したら再起動する必要があります
    ```cfg
    sudo sed -i 's/\/dev\/fb0/\/dev\/fb1/g' /etc/X11/xorg.conf.d/99-fbdev.conf
    ```
