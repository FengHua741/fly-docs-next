## USBチュートリアルを検索

## デバイスを検索する前の注意事項

    * USB IDを検索する前に、まず[SSHに接続してください](/docs/DebugDoc/BasicTutorial/index.mdx "クリックするとジャンプできます")
    * ネットワークでSSHにログインしていることを確認し、シリアルポートでログインしていないことに注意してください
    * USBファームウェアがフラッシュされたマザーボードが接続されており、上位機と接続するデータケーブルがデータ転送機能を持っていることを確認してください

## デバイスを検索
    * 上位機が正常にネットワークに接続できており、下位機と上位機を接続するデータケーブルがデータ転送機能を持っていることを確認してください。
    * SSHで上位機に接続した後、`lsusb`を入力してエンターキーを押します。下の画像で丸で囲まれた情報が表示されれば、次のステップに進めます。
        * 何も情報が返ってこない場合は、上位機のシステムの問題です。こちらではどうすることもできませんので、正常なシステムに変更するか、上位機を交換してください。
        * `lsusb`コマンドがないというメッセージが表示された場合は、次のコマンドを実行してインストールできます
            ```bash
            sudo apt-get install usbutils
            ```
            <ImageView image={require('@site/docs/General/get-id/img/6177.webp').default} size="80%" align="left" /> 
    * `1d50:6177`は今回使用するデバイスに属します。`OpenMoko, Inc. stm32f407xx`のサフィックスはある程度の参考価値がありますが、判断基準とはなりません。
        * 一部の上位機はシステムの問題で、表示が不完全または表示されない場合があります。
        * `lsusb`コマンドを入力してデバイスが表示されるが、`1d50:6177`がない場合は、データケーブルを交換したり、マザーボードを上位機の他のUSBポートに接続してみてください。
    * もしあなたが前に上記のステップを実行しており、Klipperファームウェアの書き込みに成功し、マザーボードが正常に動作しており、Klipperファームウェアの更新のみを行う場合は、このページの右側のメニューバーの`ファームウェア更新`セクションを直接参照してください。

    :::warning 注意事項
       `1d50:6177`デバイスを検索できてから、次のステップに進めてください
    :::

## USBIDを検索

    ```bash
    ls /dev/serial/by-id/*
    ```

    * 下のコマンドを入力してエンターキーを押します。すべてが正常であれば、下の一行の青いIDが表示されます。（下は参考のみ）
    <ImageView image={require('@site/docs/General/get-id/img/usb-id.webp').default} size="80%" align="left" />
    * もし下のコマンドを入力してもIDが表示されないが、`lsusb`でデバイスが表示されている場合は、上位機を交換するか、上位機のシステムを変更してください


:::warning 注意事項
複数のIDが表示された場合は、お使いのマザーボードの**MCU**モデルに応じて対応するIDを選択してください。
:::

### USBのIDを設定に記入

    * プリンタのウェブインターフェイスを開き、左側のサイドバーの設定オプションで、fluiddの場合は：`{…}` ；mainsailの場合は：`マシン`をクリックして入り、`printer.cfg`を見つけることができます

        <ImageView image={require('@site/docs/General/get-id/img/fluidd-cfg.webp').default} size="50%" align="left" />

    * 青いIDをコピーし、`printer.cfg`設定の`[mcu]`ノードの`serial: `に記入します。保存して再起動するとマザーボードに接続できます。Klipperが ``ADC out of range``を示す場合は正常な現象で、ヒートベッドとサーミスタを接続し、ノズル、ヒートベッドのサーミスタピンと出力ピンを設定し、再度保存して再起動すればよいです。

            <ImageView image={require('@site/docs/General/get-id/img/cfg-usb-id.webp').default} size="50%" align="left" />

:::danger
注意：ドキュメントに表示されるすべてのIDは例です。実際の各マザーボードのIDは異なりますので、実際に取得したIDに基づいて修正して記入してください。
::: 