## USBチュートリアルを検索

## デバイスを検索する前に注意すること

    * USB IDを検索する前に、まず[SSHに接続します](/docs/DebugDoc/BasicTutorial/index.mdx "クリックしてジャンプ")してください
    * ネットワーク経由でSSHにログインしていることを確認してください（シリアルポートでのログインは避けてください）
    * 刷り込み済みのUSBファームウェアのメインボードが接続されており、上位機器とのデータ転送機能を持つデータ線が接続されていることを確認してください

## デバイスを検索する
    * 上位機器が正常にネットワークに接続でき、下位機器が上位機器とのデータ転送機能を持つデータ線で接続されていることを確認してください。
    * SSHで上位機器に接続した後、`lsusb`と入力し、エンターキーを押します。以下の画像で囲まれた情報が表示された場合、次のステップに進むことができます。
        * 何も情報が返されない場合、これは上位機器のシステム問題です。こちらでは対処できません。正常なシステムに切り替えるか、上位機器自体を交換してください。
        * `lsusb`コマンドがないというメッセージが出る場合は、このコマンドを実行してインストールできます
            ```bash
            sudo apt-get install usbutils
            ```
            <ImageView image={require('@site/docs/General/get-id/img/6177.webp').default} size="80%" align="left" /> 
    * `1d50:6177`は今回の使用に必要なデバイスです。`OpenMoko, Inc. stm32f407xx`のサフィックスは一部参考になりますが、判断基準とはなりません。
        * 部分的な上位機器はシステムの問題により、完全に表示されないか表示されない場合があります。
        * `lsusb`コマンドを入力するとデバイスが表示されるが、`1d50:6177`がない場合は、データ線を交換したり、メインボードを上位機器の他のUSBポートに接続してみてください。
    * 上記の手順を以前に行い、Klipperファームウェアを正常に焼くことができ、メインボードが正常に動作しているが、Klipperファームウェアを更新するだけの場合には、このページの右側メニューにある`ファームウェア更新`セクションを参照してください。

    :::warning 注意事項
       `1d50:6177`デバイスを検索した後にのみ、次のステップに進むことができます
    :::

## USBIDを検索する

    ```bash
    ls /dev/serial/by-id/*
    ```

    * 下記のコマンドを入力してエンターキーを押します。もし全て正常であれば、青色のIDが表示されます。（以下は参考例です）
    <ImageView image={require('@site/docs/General/get-id/img/usb-id.webp').default} size="80%" align="left" />
    * 下記のコマンドを入力してもIDが出力されず、`lsusb`にはデバイスがある場合、上位機器または上位機器システムを交換してください

:::warning 注意事項
複数のIDが出力された場合は、あなたのメインボードの**MCU**モデルに応じて適切なIDを選択してください。
:::

### USBのIDを設定ファイルに入力する

    * プリンターのWebインターフェースを開き、左側のサイドバーの設定オプションで：fluiddの場合は`{…}` ；mainsailの場合は`マシン`をクリックして、`printer.cfg`を見つけることができます

        <ImageView image={require('@site/docs/General/get-id/img/fluidd-cfg.webp').default} size="50%" align="left" />

    * 青色のIDをコピーし、`printer.cfg`設定ファイル内の`[mcu]`セクションの`serial:`に貼り付けます。保存して再起動すると、メインボードに接続できます。Klipperが`ADC出力範囲外`と表示するのは正常な現象です。ヒーターベッドとセンサーを接続し、ヘッド、ヒーターベッドのセンサーピンと出力ピンを設定した後、保存して再起動してください。

            <ImageView image={require('@site/docs/General/get-id/img/cfg-usb-id.webp').default} size="50%" align="left" />

:::danger
注意：ドキュメント内で示されているすべてのIDは例示的なものであり、実際の各メインボードのIDは異なりますので、実際に取得したIDに基づいて修正してください。
:::