## 操作説明

    :::warning 注意事項

    * 電流キャリブレーションを先に行ってからコイル周波数キャリブレーションを行うことに注意してください
    * マルチZ軸マシンは、一度手動で水平調整を行い、全てのキャリブレーションが完了した後、もう一度水平調整を行い、再度キャリブレーションを行う必要があります
    * 下位機ファームウェアはKliiperバージョンと完全に一致する必要があります

    :::

    :::info

    * 電流キャリブレーションを先に行ってからコイル周波数キャリブレーションを行うことに注意してください
    * マルチZ軸マシンは、一度手動で水平調整を行い、全てのキャリブレーションが完了した後、もう一度水平調整を行い、再度キャリブレーションを行う必要があります
    * 下位機ファームウェアはKliiperバージョンと完全に一致する必要があります

    :::


    * `FUIDD`ウェブページを使用して、以下の設定を追加してから後続の操作を実行してください
        ```cfg
        [force_move]
        enable_force_move: true
        ```

    ### 二番目のステップ：EDDY電流のキャリブレーション

        * 1:コンソールに以下のコマンドを入力します
            ```bash
            SET_KINEMATIC_POSITION z=80
            ```
        * 2:XとYを原点に戻し、移動ツールヘッドをヒートベッドの中央に移動させます
            ```bash
            G28 X Y
            ```
        * 上記のステップが完了した後、Eddy電流のキャリブレーションが必要です。まず、EDDYをヒートベッドの中央に移動させ、ノズルがヒートベッドにほんの少し触れるようにします。そして、コンソールで以下のコマンドを実行して自動的に電流を取得し、最後に`SAVE_CONFIG`でパラメータを保存します。フィードバック値が15前後が正常値で、フィードバックが0または30の場合は接続不良（接触不良）を確認してください
            ```bash
            LDC_CALIBRATE_DRIVE_CURRENT CHIP=fly_eddy_probe
            ```
        * 正常な戻り値は`15`前後です
        * キャリブレーションが完了したら`SAVE_CONFIG`でパラメータを保存します

    ### 二番目のステップ：Eddy周波数のキャリブレーション


        :::info

        * Eddyをインストールする際、eddy ocbボードはノズルより少なくとも1 - 2mm高くする必要があります
        * Eddy周波数をキャリブレーションする際、コイルPCBはヒートベッドから少なくとも5mm離れている必要があります
        * ここで5mm離れるのは、次のステップで紙を引っ張って`z_offset`を取得するために便利です

        :::

        * そしてノズルをプラットフォームの中心に移動させます（注意：このステップでは、マシンがheightmapをロードしていないことを確認してください）
        * 手動でzオフセットキャリブレーション[Paper test](https://www.klipper3d.org/Bed_Level.html#the-paper-test)を開始します
            ```bash
            PROBE_EDDY_CURRENT_CALIBRATE CHIP=fly_eddy_probe
            ```
        * キャリブレーションが完了したら`SAVE_CONFIG`でパラメータを保存します
        :::info
        * `z_tilt`または`quad_gantry_level（QGL）`機能を持つプリンターは、まず平行度を調整します。`i3`はX軸の平行度を調整し、三叉戟はヒートベッドの平行度を調整し、voron 2.4はガントリーの平行度を調整してから、もう一度Eddy周波数のキャリブレーションを行います
        :::
    ### 三番目のステップ：温度補償
        :::info
        * 温度補償を行う際、`ヒートベッド、ノズル`を加熱しないでください
        :::

        * 三番目のステップ：温度補償は、正常に原点復帰できてから始めます

        * すべての軸を原点復帰させます
       ```bash
       G28
       ```

        * `[quad_gantry_level]`または `[z_tilt]`がある場合は、一度`Z_TILT_ADJUST`または`QUAD_GANTRY_LEVEL`を実行してから、もう一度原点復帰させます
        * コンソールにG0 Z5を入力するか、ウェブページなどを通じて、Z軸をヒートベッドの上方`5mm`に移動させます
        * 以下のコードを実行して、マシンの`idle timeout`を長く設定し、昇温過程でtimeoutが発生しないようにします
            ```bash
            SET_IDLE_TIMEOUT TIMEOUT=65000
            ```
        * 以下のコマンドを実行してキャリブレーションを開始します
            ```bash
            TEMPERATURE_PROBE_CALIBRATE PROBE=fly_eddy_probe TARGET=56 STEP=4
            ```
        :::warning 注意事項

        * ヒント：上記のコマンドでは、EDDyの目標温度が`56℃`に設定されており、ほとんどのデバイスに適用されます。
        * もしあなたの3Dプリンターのチャンバーの実際の温度が高い場合は、目標温度を適切に上げることができます。
        * 注意してください、目標温度が高いほど、キャリブレーションに必要な時間が長くなります。なぜなら、Eddyが温度バランスに達するのにより長い時間がかかるからです。

        :::

        1. この操作を実行すると、UIにZ軸調整ボックスが表示されます。上記で言及した手動の[Z軸オフセットキャリブレーション（Paper Test）方法](https://www.klipper3d.org/Bed_Level.html#the-paper-test)を使用して、ノズルとベッドの間に紙を挟んで、その値を確認してください。
        2. 値を受け入れたら、ヒートベッドの温度を最高に設定し、ノズルの温度を220℃に設定します。
        3. もしあなたがエアコンがついている部屋や窓が開いている部屋にいる場合は、Eddyの温度が上昇するために、エアコンを消したり窓を閉めたりすることをお勧めします。なぜなら、風は温度の上昇に影響を与えるからです。
        4. Eddyの温度が上昇するにつれて、システムは自動的に4℃ごとに手動のZオフセットキャリブレーションを実行するように指示します。ヒートベッドの温度が非常に高いので、やけどに注意！！！
        5. 手動のZオフセットキャリブレーション（Paper Test）を繰り返して、キャリブレーションが完了するまで続けます。もしEddyの温度が上昇しなくなった場合は、以下の関連コマンドを使用してキャリブレーションを早期に終了することができます。

        * ドリフトキャリブレーション期間中に使用できる追加のgcodeコマンドは以下の通りです：TEMPERATURE_PROBE_NEXT
            * `TEMPERATURE_PROBE_NEXT`    EDDyが設定された目標温度`56℃`に達する前に、EDDyに新しいデータのサンプリングを強制します。
            * `TEMPERATURE_PROBE_COMPLETE`    EDDyが設定温度`56℃`に達しない場合にキャリブレーションを完了します。
            * `ABORT`  キャリブレーションを終了し、結果を無視するために使用できます。
        * これらのステップを完了すると、Eddyは幅広い温度範囲で素晴らしい最初の印刷効果を提供できるようになります！


## z—offsetを微調整する方法
* 一つ目のステップ：pursa/OrcaSlicer/cura/Bambu Studioを使用して、200x200の高さ0.2の四角いシートを切り出し、z—offsetの微調整のために印刷します
* 二つ目のステップ：プリンターのIPを使って`fluidd` `mainsail`に入り、ダッシュボードの`移動制御`のz軸オフセットでz_OFFsetを微調整し続け、微調整した数値を覚えておきます
<ImageView image={require('@site/docs/DebugDoc/faq/img/Zoff.webp').default} size="80%" align="left" />
* 三つ目のステップ：以下のコマンドでklippperを再起動します
```bash
FIRMWARE_RESTART
```
* 四つ目のステップ：以下のコマンドでZ—offsetを調整するためのUIインターフェースが表示されます。`z—offset`を調整する数値は、印刷過程で調整した数値です
```bash
G28
PROBE_EDDY_CURRENT_CALIBRATE CHIP=fly_eddy_probe
```
<ImageView image={require('@site/docs/DebugDoc/faq/img/UI.webp').default} size="50%" align="left" />

:::info
* エラー「Eddy current sensor error」が表示された場合は、eddyの設定の中のz_offsetの数値を大きくします。図例を参照してください

<ImageView image={require('@site/docs/DebugDoc/faq/img/EDDYZOFF.webp').default} size="50%" align="left" />
:::

:::info
 * 上記の操作が完了したが、ベッドスキャンの開始に失敗した場合は、zリミットを仮想リミットに変更してください
:::


## コイルモデルのダウンロードリンク

        ```bash
        https://cdn.mellow.klipper.cn/STEP/sen.step
        https://cdn.mellow.klipper.cn/STEP/1612.step
        ``` 