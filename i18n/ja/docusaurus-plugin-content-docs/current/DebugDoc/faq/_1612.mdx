## 操作説明

    :::warning 注意事項

    * 電流キャリブレーションを先に行い、その後コイル周波数キャリブレーションを行うことに注意してください
    * マルチZ軸マシンは、一度手動で水平調整を行い、すべてのキャリブレーションが完了した後、もう一度水平調整を行い、再度キャリブレーションを行ってください
    * 下位機ファームウェアはKliiperバージョンと完全に一致させてください

    :::

    :::info

    * 電流キャリブレーションを先に行い、その後コイル周波数キャリブレーションを行うことに注意してください
    * マルチZ軸マシンは、一度手動で水平調整を行い、すべてのキャリブレーションが完了した後、もう一度水平調整を行い、再度キャリブレーションを行ってください
    * 下位機ファームウェアはKliiperバージョンと完全に一致させてください

    :::


    * `FUIDD`ウェブページを使用して、以下の設定を追加してから後続の操作を実行してください
        ```cfg
        [force_move]
        enable_force_move: true
        ```

    ### 第2 ステップ：EDDY 電流のキャリブレーション

        * 1:コンソールに以下のコマンドを入力します
            ```bash
            SET_KINEMATIC_POSITION z=80
            ```
        * 2:X と Y をホームに戻し、ツールヘッドをヒートベッドの中央に移動させます
            ```bash
            G28 X Y
            ```
        * 上記のステップが完了したら、Eddy 電流のキャリブレーションが必要です。まずEddy をヒートベッドの中央に移動させ、ノズルがヒートベッドにほんの少し触れるようにします。そしてコンソールで以下のコマンドを実行して自動的に電流を取得し、最後に`SAVE_CONFIG`でパラメータを保存します。フィードバック値が15 前後が正常値で、0 または30 の場合は接続不良（接触不良）を確認してください
            ```bash
            LDC_CALIBRATE_DRIVE_CURRENT CHIP=fly_eddy_probe
            ```
        * 正常な戻り値は`15`前後です
        * キャリブレーションが完了したら`SAVE_CONFIG`でパラメータを保存します

    ### 第2 ステップ：Eddy 周波数のキャリブレーション


        :::info

        * Eddy を取り付ける際、eddy ocb ボードはノズルより少なくとも1 - 2mm 高くする必要があります
        * Eddy 周波数をキャリブレーションする際、コイルPCB はヒートベッドから少なくとも5mm 離れている必要があります
        * ここで5mm 離れるのは、次のステップで紙を引っ張って`z_offset`を取得するために便利です

        :::

        * そしてノズルをプラットフォームの中心に移動させます（注意：このステップではマシンがheightmap をロードしていないことを確認してください）
        * 手動z オフセットキャリブレーション[Paper test](https://www.klipper3d.org/Bed_Level.html#the-paper-test)を開始します
            ```bash
            PROBE_EDDY_CURRENT_CALIBRATE CHIP=fly_eddy_probe
            ```
        * キャリブレーションが完了したら`SAVE_CONFIG`でパラメータを保存します
        :::info
        * `z_tilt`または`quad_gantry_level（QGL）`機能を持つプリンタの場合は、まず平行度を調整します（i3 はX 軸の平行度を調整し、三叉戟はヒートベッドの平行度を調整し、voron 2.4 はガントリーの平行度を調整してから、もう一度Eddy 周波数のキャリブレーションを行います）
        :::
    ### 第3 ステップ：温度補償
        :::info
        * 温度補償を行う際、`ヒートベッド、ノズル`を加熱しないでください
        :::
        
        * 第3 ステップ：温度補償は、すべての軸がホームに戻ることができてから行います

        * すべての軸をホームに戻します
       ```bash
       G28
       ```

        * `[quad_gantry_level]`または `[z_tilt]`がある場合は、まず`Z_TILT_ADJUST`または`QUAD_GANTRY_LEVEL`を一度実行し、その後もう一度ホームに戻します
        * コンソールにG0 Z5 を入力するか、ウェブページなどを通じて、Z 軸をヒートベッドの上方5mm に移動させます
        * 以下のコードを実行して、マシンの`idle timeout`を長く設定し、昇温過程でtimeout しないようにします
            ```bash
            SET_IDLE_TIMEOUT TIMEOUT=65000
            ```
        * 以下のコマンドを実行してキャリブレーションを開始します
            ```bash
            TEMPERATURE_PROBE_CALIBRATE PROBE=fly_eddy_probe TARGET=56 STEP=4
            ```
        :::warning 注意事項

        * ヒント：上記のコマンドでは、EDDy の目標温度を`56℃`に設定しています。これは多くのデバイスに適用されます。
        * もしあなたの3D プリンタのチャンバーの実際の温度が高い場合は、目標温度を適切に上げることができます。
        * 注意してください。目標温度が高いほど、キャリブレーションにかかる時間が長くなります。なぜなら、Eddy が温度平衡に達するのにより長い時間がかかるからです。

        :::
    
        1. この操作を実行すると、UI にZ 軸調整ボックスが表示されます。上記で言及した手動[Z 軸オフセットキャリブレーション（Paper Test）方法](https://www.klipper3d.org/Bed_Level.html#the-paper-test)を使用して、ノズルとベッドの間に紙を挟んで、その値を確認してください。
        2. 値を受け入れた後、ヒートベッドの温度を最高に設定し、ノズルの温度を220℃に設定します。
        3. もしあなたがエアコンがついている部屋や窓が開いている部屋にいる場合は、Eddy の温度が上昇するために、エアコンを切ったり窓を閉めたりすることをお勧めします。なぜなら、風は温度の上昇に影響を与えるからです。
        4. Eddy の温度が上昇するにつれて、システムは自動的に4℃ごとに手動Z オフセットキャリブレーションを実行するように指示します。ヒートベッドの温度が高いので、やけどに注意!!!
        5. 手動Z オフセットキャリブレーション（Paper Test）を繰り返して、キャリブレーションが完了するまで行います。もしEddy の温度が上昇しなくなった場合は、以下の関連コマンドを使用してキャリブレーションを早期に終了することができます。
        
        * ドリフトキャリブレーション期間中に使用できる追加のgcode コマンドには：TEMPERATURE_PROBE_NEXT
            * `TEMPERATURE_PROBE_NEXT`    Eddy が設定された目標温度`56℃`に達する前に、強制的にEddy が新しいデータをサンプリングするために使用されます。
            * `TEMPERATURE_PROBE_COMPLETE`    Eddy が設定温度`56℃`に達しない場合に、キャリブレーションを完了するために使用されます。
            * `ABORT`  キャリブレーションを終了し、結果を無視するために使用されます。
        * これらのステップを完了すると、Eddy は広い温度範囲で素晴らしいファーストレイヤー印刷効果を提供できます！


## 如何にz—offset を微調整する
* 第1 ステップ：pursa/OrcaSlicer/cura/Bambu Studio を使用して、200x200 の高さ0.2 の四角いシートを切り出し、z—offset の微調整のために印刷します
* 第2 ステップ：プリンタのIP を使用して`fluidd` `mainsail`にアクセスし、ダッシュボードの`移動制御`のz 軸オフセットを探し、z_OFFset を微調整し続け、微調整した数値を覚えておきます
<ImageView image={require('@site/docs/DebugDoc/faq/img/Zoff.webp').default} size="80%" align="left" />
* 第3 ステップ：以下のコマンドを使用してklippper を再起動します
```bash
FIRMWARE_RESTART
```
* 第4 ステップ：以下のコマンドを使用してZ—offset を調整します。表示されるUI 画面で`z—offset`を調整します。調整する数値は印刷過程で調整した数値です
```bash
G28
PROBE_EDDY_CURRENT_CALIBRATE CHIP=fly_eddy_probe
```
<ImageView image={require('@site/docs/DebugDoc/faq/img/UI.webp').default} size="50%" align="left" />

:::info
* エラー「Eddy current sensor error」が表示された場合は、eddy の設定内のz_offset の数値を大きくしてください。図例を参照してください

<ImageView image={require('@site/docs/DebugDoc/faq/img/EDDYZOFF.webp').default} size="50%" align="left" />
:::

:::info
 * 上記の操作が完了したが、ベッドスキャンの開始に失敗した場合は、z リミットを仮想リミットに変更してください
:::


## コイルモデルのダウンロードリンク

        ```bash
        https://cdn.mellow.klipper.cn/STEP/sen.step
        https://cdn.mellow.klipper.cn/STEP/1612.step
        ``` 