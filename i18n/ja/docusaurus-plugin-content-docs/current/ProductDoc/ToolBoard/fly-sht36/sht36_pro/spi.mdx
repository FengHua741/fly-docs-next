---
sidebar_position: 8
sidebar_label: SPI使用不了解决方法
---

# ボード内蔵の5160ドライバーが使用できない

    ```bash
    Unable to write tmc spi 'extruder' register IHOLD_IRUN
    ```

## 具体原因

    * 5160を使用している場合、以下のエラーが表示されます。上位機器のArmツールチェーンバージョンの問題により`arm-none-eabi-gcc`

## 解決方法
    解決方法は以下の3つがあります。

    * コンパイラツールチェーン`arm-none-eabi-gcc`を`gcc10`から`gcc8`に変更する
    * 上位機器システムを変更する
    * 正常なファームウェアを書き込む

    ファームウェアのダウンロードと焼付けには、ツールボードがCANと正常に接続でき、CANBOOTを持っている必要があります。

    * ダウンロード

    ```bash
    cd ~/ && git clone https://github.com/FengHua741/FLY_Katapult.git
    ```
    * 焼付け

    ```
    python3 ~/klipper/lib/canboot/flash_can.py -f ~/FLY_Katapult/Klipper/SHT36PRO/SHT36PRO_KLIPPER_CAN-1M_v0.12.0-229-g589bd64c.bin -u <SHT36PRO_canid>
    ```