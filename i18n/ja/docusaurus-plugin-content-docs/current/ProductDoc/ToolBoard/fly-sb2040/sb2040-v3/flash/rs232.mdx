---
sidebar_position: 4
sidebar_label: RS232ファームウェアの書き込み
---

import USBFLASH from '@site/i18n/ja/docusaurus-plugin-content-docs/current/General/dfu-flash/_firmware/2040/_rp2.mdx';
import MakeOperate from '@site/i18n/ja/docusaurus-plugin-content-docs/current/General/klipper-make/_make-operate.mdx';
import RS232 from '@site/i18n/ja/docusaurus-plugin-content-docs/current/General/dfu-flash/_firmware/2040/_rs232.mdx';
import SSH from '@site/i18n/ja/docusaurus-plugin-content-docs/current/General/dfu-flash/_firmware/_ssh.mdx';

import LS from '@site/i18n/ja/docusaurus-plugin-content-docs/current/General/dfu-flash/_uf2.mdx';

# RS232ファームウェアのコンパイル

## コンパイルの開始

    <SSH />

    <MakeOperate/>

    <RS232 />

    * **GPIOピンをマイクロコントローラー起動時に設定する**を選択し、入力：**!gpio5**
    :::warning
        `!gpio5`を入力する際は英語入力モードで入力してください。
    :::
        <ImageView image={require('@site/docs/ProductDoc/ToolBoard/fly-sb2040/sb2040-v3/flash/img/rs232.webp').default} size="100%" align="center" />
    * `Q`キーを押すと **Save configuration** が表示され、その後 `Y` キーを押します
        <ImageView image={require('@site/docs/General/dfu-flash/img/configuration.webp').default} size="50%" align="center" />
    * 現在、設定が保存され、コマンドラインインターフェースに戻ったはずです
    * `make -j4` を入力してコンパイルを開始します。時間がかかる場合があります
        <ImageView image={require('@site/docs/General/dfu-flash/img/make.webp').default} size="50%" align="center" />
    * コンパイルが成功すると次の出力が表示されます

        ```bash
        Linking out/klipper.elf
        Creating uf2 file out/klipper.uf2
        ```

## フラッシュモードに入る

    :::tip

    左側が`RESETボタン`、右側が`BOOTボタン`です

    :::

    * DFUモードには2つの方法があります
    * 方法1：マザーボードを完全に電源オフにした状態で、BOOTボタンを押し続けながら、データ転送用ケーブルの一方をマザーボードに、もう一方をホスト機器に接続します
    * 方法2：データ転送用ケーブルの一方をマザーボードに、もう一方をホスト機器に接続した後、BOOTボタンを押し続けながらRSTボタンを押します。その後、RSTボタンを離し、最後にBOOTボタンを離します
        <ImageView image={require('@site/docs/ProductDoc/ToolBoard/fly-sb2040/sb2040-v3/flash/img/boot.webp').default} size="100%" align="center" />

## フラッシュモードに入ったかどうかの確認

    <LS />


## ファームウェアのフラッシュ 

    <USBFLASH />


## ファームウェアが起動したかどうかの確認

    * ファームウェアが正常に起動するとLEDが点灯します
        <ImageView image={require('@site/docs/ProductDoc/ToolBoard/fly-sb2040/sb2040-v3/flash/img/led.webp').default} size="100%" align="center" />
