---
sidebar_position: 7
sidebar_label: スクリーンの配線と設定
---



import TFT from '@site/i18n/ja/docusaurus-plugin-content-docs/current/General/fly-os/_tft.mdx';
import HDMI from '@site/i18n/ja/docusaurus-plugin-content-docs/current/General/fly-os/_hdmi.mdx';



# スクリーンの配線と設定

## スクリーンの配線
    <Tabs>
        <TabItem value="tft" label="TFT抵抗膜スクリーンの配線" default>
        ### TFT抵抗膜スクリーンの配線
        :::tip
        - TFTスクリーンのパッケージには、2本のFPCフレキシブルプリント基板が付属しています。1本は`14Pの（細いもの）`、もう1本は`16Pの（広いもの）`です。
        - 抵抗膜スクリーンは必ず`14Pの（細いもの）`を使用してください！！！
        :::
        1. FLY-Pi V2 TFT抵抗膜スクリーンの配線
        <ImageView image={require('@site/docs/General/fly-os/img/screen/piv2-tft.webp').default} size="60%" align="left" />
        </TabItem>

        <TabItem value="hdmi" label="HDMI配線">
        ### HDMI配線
        1. `FLY-HDMI-LCD5`スクリーンの配線
        <table>
          <tr>
            <td>
            配線方法その1
            <ImageView image={require('@site/docs/ProductDoc/SBC/fly-pi-v2/img/piv2_hdmi2.webp').default} size="85%" align="center" />
            </td>
            <td>
            配線方法その2
            <ImageView image={require('@site/docs/ProductDoc/SBC/fly-pi-v2/img/piv2_hdmi1.webp').default} size="85%" align="center" />
            </td>
          </tr>
        </table>

        </TabItem>
    </Tabs>
---

## スクリーンの設定

<Tabs>
    <TabItem value="flyos-fast" label="FLYOS-FASTシステム-TFTスクリーン設定">

    ### FLYOS-FASTシステム-TFTスクリーン設定
    1. ブラウザでデバイスのIPアドレスにアクセスします。例：`http://192.168.6.110/`
       <table>
         <tr>
           <td>
             `fluidd`では下図のように: `チェックを外す` -> `隠しファイルとフォルダをフィルタリングする`。
             <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/config1.webp').default} size="100%" align="center" />
           </td>
           <td>
             `mainsail`では下図のように: `チェックを入れる` -> `隠しファイルを表示する`。
             <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/config2.webp').default} size="85%" align="center" />
           </td>
         </tr>
       </table>
  
    2. この時点で`.flyos-config`フォルダが見えます。このフォルダ内には`sys-config.conf`ファイルがあります。

     <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/config3.webp').default} size="60%" align="center" />
    
    3. `sys-config.conf`ファイルを開き、必要な設定項目を変更後、`保存` -> `閉じる`します。
    :::warning

        - 抵抗膜スクリーンの設定は：`fly-tft-v1`です。`=`の後ろに**スペースがあってはいけません！！！** スクリーン裏面のダイアルを`Resi`に設定してください。
        - 電容式スクリーンの設定は：`fly-tft-v2-c`です。`=`の後ろに**スペースがあってはいけません！！！** スクリーン裏面のダイアルを`Cap`に設定してください。
        - `klipper_screen`の設定は：`1`です。`=`の後ろに**スペースがあってはいけません！！！**
        - 注意：`sys-config.conf`ファイル内の設定項目の形式は`key=value`です。独自に形式を変更しないでください！！！ そうすると設定が有効になりません！！！
    :::
    
    <ImageView image={require('@site/docs/ProductDoc/SBC/fly-pi-v2/img/flyos-fast_tft_conf.webp').default} size="90%" align="center" />
    
    4. 変更を保存した後、`システムを再起動`すると有効になります。
    </TabItem>


    <TabItem value="flyos-armbian" label="FLYOS-Armbianシステム-TFTスクリーン設定" default>
    ### FLYOS-Armbianシステム-TFTスクリーン設定
    :::info
    - 上位機器でWi-Fiに接続し、上位機器のIPを取得後、ブラウザで`IP+:9999`を入力することで、FLY TOOLSにアクセスし、スクリーンに関する設定を行えます。
    - 例えば、上位機器のIPアドレスが`192.168.6.110`の場合、ブラウザで`192.168.6.110:9999`を入力します。
    :::
    1. FLY TOOSを開き、下図の手順に従って、`Klipper Screenを有効にする`、`スクリーンモデルを選択する`、右下のピンク色のボタン`設定を保存`をクリックして、**上位機器を再起動すると有効になります！**
      :::warning
      - 抵抗膜スクリーンを選択する場合：`fly-tft-v1`、スクリーン裏面のダイアルを`Resi`に設定してください。
      - 電容式スクリーンを選択する場合：`fly-tft-v2-c`、スクリーン裏面のダイアルを`Cap`に設定してください。
      :::
      <table>
        <tr>
          <td>
           - 抵抗膜スクリーン：  
        <ImageView image={require('@site/docs/ProductDoc/SBC/fly-pi-v2/img/piv2_tft-r_conf.webp').default} size="80%" align="center" />
          </td>
          <td>
          - 電容式スクリーン：
        <ImageView image={require('@site/docs/ProductDoc/SBC/fly-pi-v2/img/piv2_tft-c_conf.webp').default} size="80%" align="center" />
          </td>
        </tr>
      </table>
    2. 設定を保存後、上位機器を再起動すると有効になります！  
<br />
---

<br />
<br />
<br />
<br />
<br />
    2. SSHでコマンドラインから直接設定することもできます。（この方法は推奨されません！）
        * 抵抗膜スクリーンの設定には、下記コマンドを使用して`fly-tft-v1`に設定し、スクリーン裏面のダイアルを`Resi`に設定してください。
        ```cfg
        sudo sed '11s/screen=none/screen=fly-tft-v1/' -i /boot/FlyOS-Env.txt
        ```

        * 電容式スクリーンの設定には、下記コマンドを使用して`fly-tft-v2-r`に設定し、スクリーン裏面のダイアルを`Cap`に設定してください。
        ```cfg
        sudo sed '11s/screen=none/screen=fly-tft-v2-r/' -i /boot/FlyOS-Env.txt
        ```

        * 設定が正常に変更されたか確認するには、下記コマンドを使用してください。
        ```cfg
        sed -n '9,11p' /boot/FlyOS-Env.txt | grep -v '^#'
        ```

        * 抵抗膜スクリーンを電容式スクリーンに変更するには、下記コマンドを使用してください。
        ```cfg
        sudo sed -i '11{/^#/!s/screen=fly-tft-v1/screen=fly-tft-v2-r/}' /boot/FlyOS-Env.txt
        ```
        * 電容式スクリーンを抵抗膜スクリーンに変更するには、下記コマンドを使用してください。
        ```cfg
        sudo sed -i '11{/^#/!s/screen=fly-tft-v2-r/screen=fly-tft-v1/}' /boot/FlyOS-Env.txt
        ```
    </TabItem>
</Tabs>
