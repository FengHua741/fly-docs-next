---
sidebar_position: 4
sidebar_label: メインボードの配線
---



# メインボードの配線

## インターフェース図

### インターフェース説明

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/interface.webp').default} size="50%" align="center" />

----

### Pin番号の説明

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/pin.webp').default} size="50%" align="center" />

---

## 電源配線

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/power.webp').default} size="40%" align="center" />

----

## ドライバの取り付け

### メインボードドライバジャンパー

* **STEP/DIRモード。** このモードでは、細分設定はジャンパーキャップを使用して行い、電流調整はポテンションメーターで行います。最も一般的なのはA4988、8825ドライバで、メーカー提供の細分設定表を参照し、ジャンパーキャップで細分を設定する必要があります。
* **UARTモード。** このモードで最もよく使用されるドライバには：TMC2208、TMC2209、TMC2226などがあります。これらのドライバチップは、メインコントローラとUART非同期シリアル通信を行い、設定ファイルを変更することで、ドライバの細分、運転電流、静音モードなどを設定できます。
* **SPIモード。** このモードで最もよく使用されるドライバには：TMC5160、TMC2130、TMC2240などがあり、設定ファイルを変更することで、ドライバの細分、運転電流、静音モードなどを設定できます。

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/drive-dip.webp').default} size="40%" align="center" />

----

### ドライバの取り付け

* ドライバを取り付ける前に、適切なチェックを行い、ドライバやメインボードに損傷を与えないようにしてください。
* **FLYドライバ：** 無限位ゼロリセット機能を使用しない場合、ダイヤルスイッチを1の位置に設定してください。逆に、無限位ゼロリセット機能を使用する場合は、ダイヤルスイッチをONの位置に設定してください。

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/fly2209-dip.webp').default} size="40%" align="center" />

    :::danger

    * **注意！！！ ドライバモジュールを取り付ける際は、必ず挿入方向が正しいことを確認してください。つまり、ENピンが左上角にあること、それ以外の場合、ドライバやメインボードが損傷する可能性があります！！！ 散熱フィンをドライバに貼り付けてください！！！**

    :::

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/drive-install.webp').default} size="40%" align="center" />
    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/sensorless.webp').default} size="40%" align="center" />

----

## ステッピングモータの接続

:::info
* どのメーカーの2相ステッピングモータでも、最終的に現れるのは4本の線です。どのような色であれ、黒、白、緑、黄色など、すべて4本の線に対応します。したがって、線をグループ分けし、A、Bの2つのグループに分けます。
* 2相4線ステッピングモータの場合、どの線がAグループかBグループかを特定する必要はありません。どちらかがグループであることを確認すれば、設定内でモータの方向を調整できます。
:::

* 3Dプリンターで最も一般的に使用されるのは2相4線ステッピングモータであり、その原理は以下の図の通りです。ステッピングモータの配線の識別には2つの方法があります：
    * 任意の2本の相線を接続し、モータ軸を手で回転させ、明らかな抵抗を感じる場合、その2本の相線は1組となります。そうでない場合、別の相線をテストしてください。
    * デジタルマルチメーターを continuityモードに設定し、ステッピングモータの任意の2本の相線をテストします。通じている場合、1組となります。そうでない場合、別の相線をテストしてください。
    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/motor-sch.webp').default} size="50%" align="center" />

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/motor.webp').default} size="40%" align="center" />

----

## ヒーターバーの接続

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/heater.webp').default} size="60%" align="center" />

----

## ヒートベッドの接続

* **交流ヒートベッド：** 固体リレーを接続する際には、入力と出力を間違えないように注意してください。

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/bed-ac-1.webp').default} size="20%" align="center" />
    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/bed-ac-2.webp').default} size="40%" align="center" />

* **直流ヒートベッド：** ボード搭載のMOSを使用して直流ヒートベッドを接続する際には、使用する電力に注意してください。直流ヒートベッドの最大電流は10Aを超えてはいけません。10Aを超える場合、外付けMOSモジュールを使用してヒートベッドを使用することをお勧めします。それ以外の場合、メインボードに不可逆的な損傷を与える可能性があります。

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/bed-dc.webp').default} size="60%" align="center" />

----

## 温度センサの接続

### 温度センサの種類について

* 温度センサの接続方法は以下の図の通りです。温度センサの種類は購入した店舗に問い合わせてください。

* fly製品をご利用の場合（下記図参照）、sensor_typeを「**ATC Semitec 104GT-2**」に設定してください。

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/ntc-1.webp').default} size="30%" align="center" />

* 常用のNTC 100K（下記図参照）の場合は、sensor_typeを「**Generic 3950**」に設定してください。

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/ntc-2.webp').default} size="40%" align="center" />
    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/ntc-3.webp').default} size="40%" align="center" />

----

### メインボードの温度センサ接続

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/ntc-4.webp').default} size="40%" align="center" />

----

## ファンの接続

* **ファンの接続**

    :::tip

    下図の赤枠で囲まれたインターフェースは、同じピンコントロールで接続できるファン（一対二）です。

    :::

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/fan.webp').default} size="30%" align="center" />

----

## 限界スイッチの接続

:::warning 警告
購入した完成品の**3線式限界スイッチ**は使用しないでください。このような限界スイッチは、**メインボードのショート**や**メインボードの破損**につながる可能性があります！！！接続は必ず図に示されている接続方法に従って行ってください！！！

:::

* 限界スイッチには常開（NO）と常閉（NC）の2種類があります。一般的に3Dプリンターでは、**常閉（NC）**を使用することをお勧めします。これにより、限界スイッチの回路に問題がある場合、システムがすぐにエラーを報告し、不要な衝突を防ぎ、プリンターの損傷を避けることができます。

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/endstop.webp').default} size="40%" align="center" />

----

## 平衡センサの接続

### メタル近接スイッチの接続

* VORON公式は、欧姆龍Omron TL-Q5MC（以前はPL08Nが推奨されていましたが、原理は同じで、検出距離が異なります）を使用して熱床の平衡を取ることを推奨しています。接続方法は以下の図の通りです。

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/pl08.webp').default} size="40%" align="center" />

----

### BL-Touchの接続

* BL-touchには5本の線があります。最初の3本が1組で、センサーの電源供給とプローブの収納を行うためのものであり、2組目は地線と信号線で、限界信号を出力します。BL-touchの接続時には、必ず線の順番を正確に確認してください。誤った接続はセンサーとメインボードを永久的に損傷させる可能性があります！！！接続方法は以下の図の通りです。

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/bltouch.webp').default} size="40%" align="center" />

----

### Klickyの接続

* Klickyは第3者のバランスセンサで、非常に低コストで自宅で簡単に作成でき、安定した性能と高いコストパフォーマンスを持っています。お勧めです。接続方法は以下の図の通りです。
* プロジェクトURL：[jlas1/Klicky-Probe](https://github.com/jlas1/Klicky-Probe "プロジェクトURL、クリックするとジャンプします")

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/klicky.webp').default} size="40%" align="center" />

----

### Voron Tapの接続

* Tapはノズルベースのzプローブで、V2およびTridentプリンター設計に適用されます。全体的なヘッド移動により光スイッチをトリガーし、通常の限界スイッチよりも高い精度を実現できます。ほぼ市販のすべてのプリントプラットフォームを使用できます。

    :::warning

    Voron Tapは**24V**には接続しないことをお勧めします。一部のバージョンでは、**24V**を使用すると一定の確率でTapセンサが故障する可能性があります。これはFly製品の問題ではなく、Voron Tapの設計欠陥ですのでご注意ください！！！

    :::

    :::danger

    注意：5VとGNDを逆接しないでください。それにより、Tapセンサやメインボードが損傷する可能性があります！！

    :::

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/tap.webp').default} size="40%" align="center" />

----

## FLY-Mini12864 LCDの接続

* 下図はFLYのmini12864の接続方法です。他のメーカーの画面は各メーカーに問い合わせてください。Mini12864画面を接続し間違えると、上位機器からMCUに接続できなくなる可能性があります。Mini12864画面を使用する前に、通常MCUに接続できていたものが、Mini12864を使用してから接続できなくなった場合、Mini12864の接続線を抜いてみてください！！

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/mini12864.webp').default} size="30%" align="center" />

----

## 上位機器への接続

* メインボードはTypeCインターフェースを使用して上位機器のUSBポートに接続できます。また、シリアルポートを使用して上位機器に接続することもできます。ここでは前者についてのみ説明します。

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-d/fly-d5/img/wiring/connect-host.webp').default} size="40%" align="center" />

----
