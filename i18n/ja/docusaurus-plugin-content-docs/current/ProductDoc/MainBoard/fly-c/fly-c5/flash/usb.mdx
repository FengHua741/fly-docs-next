---
sidebar_position: 3
sidebar_label: USBファームウェア焼込み
---


import MakeOperate from "/docs/General/flyos-fast/_firmware_make_operate.mdx";
import USB from '@site/i18n/ja/docusaurus-plugin-content-docs/current/General/dfu-flash/_firmware/723/_usb.mdx';
import GetUsbID from '@site/i18n/ja/docusaurus-plugin-content-docs/current/General/get-id/_get-usbid-flyosfast.mdx';



# USB ファームウェアのコンパイル


## ダイアルスイッチの確認

    :::danger 注意
    - 通常使用時は、`ダイアルスイッチを上に倒してください`
    - ダイアルスイッチを操作する際は、必ず「完全に上まで倒す」ようにしてください。そうでないと、下位機器に接続できない可能性があります！！！
    :::
        <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-c/fly-c5/flash/img/dip_switch.webp').default} size="60%" align="center" />


## 上位機器へのSSH接続

    :::danger 警告
    - ファームウェアのコンパイル前には、`WiFiで上位機器にSSH接続する必要があります`
    :::

 * 最初に：<Button variant="contained" disableElevation component="a" rel="noopener" href="/docs/ProductDoc/MainBoard/fly-c/fly-c5/ssh#使用wifi接続して上位機器sshにアクセスする">WiFiで上位機器sshにアクセスする</Button>  
 ---
 <br/>

    <Tabs>
    <TabItem value="usb" label="USBファームウェア焼込み" default>
    ### USBファームウェア焼込み
        :::tip ヒント
        - FLYOS-FASTシステムでは、事前にUSBファームウェアがコンパイルされていますので、手動でファームウェアをコンパイルする必要はありません。以下のコマンドを実行するだけで焼込みが可能です。
        - 手動でUSBファームウェアをコンパイルすることもできます。
        :::

        * SSHで上位機器に接続し、以下のコマンドを入力します
        ```bash
        fly-flash -d c5 -h -f /usr/lib/firmware/klipper-h723-128k-usb.bin
        ```
        <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-c/fly-c5/flash/img/usb1.webp').default} size="80%" align="center" />
        <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-c/fly-c5/flash/img/usb2.webp').default} size="80%" align="center" />
    

    </TabItem>

    <TabItem value="can" label="USBファームウェアの手動コンパイル">
    ## USBファームウェアの手動コンパイル

        <MakeOperate/>
    
        <USB />
    
        * `Q` キーを押して、`Save configuration` が表示されたら、その後 `Y` キーを押します
        <ImageView image={require('@site/docs/General/dfu-flash/img/configuration.webp').default} size="40%" align="center" />
    
        * 現在、設定が保存され、コマンドラインインターフェースに戻ったはずです
    
        * コンパイルを開始するため、以下のコマンドを入力します。時間がかかります
        ```bash
        make -j4
        ```
        <ImageView image={require('@site/docs/General/flyos-fast/img/firmware_build1.webp').default} size="60%" align="center" />
    
        * 最後に以下のような出力が出ればコンパイル成功です
        <ImageView image={require('@site/docs/General/flyos-fast/img/firmware_build2.webp').default} size="60%" align="center" />
        ---
        
        ### ファームウェアの焼込み
        
        :::tip
        ファームウェアを焼込むには、以下のコマンドを実行してください
        :::
        
            ```bash
            fly-flash -d c5 -h -f ~/klipper/out/klipper.bin
            ```
        <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-c/fly-c5/flash/img/usb3.webp').default} size="80%" align="center" />
        <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-c/fly-c5/flash/img/usb2.webp').default} size="80%" align="center" />

    </TabItem>
</Tabs>
---

<GetUsbID />


<br/>
