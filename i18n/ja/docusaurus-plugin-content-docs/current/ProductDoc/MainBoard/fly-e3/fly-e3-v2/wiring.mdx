---
sidebar_position: 4
sidebar_label: メインボードの配線
---

# メインボードの配線

## インターフェース図

### インターフェース説明

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-e3/fly-e3-v2/img/interface.webp').default} size="50%" align="center" />

----

### Pinの説明

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-e3/fly-e3-v2/img/pin.webp').default} size="50%" align="center" />

---

## 電源配線

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-e3/fly-e3-v2/img/wiring/power.webp').default} size="40%" align="center" />

----

## ドライバーの取り付け

### メインボードのドライバージャンパー

* **STEP/DIRモード。** このモードでは、ジャンパーピンを使用して細分を設定し、ポテンショメータを使用して電流を調整します。最も一般的なのは、A4988、8825ドライバは製造元が提供する細分設定表を参照し、ジャンパーピンを使用して細分を設定します。
* **UARTモード。** このモードで最も一般的に使用されるドライバには、TMC2208、TMC2209、TMC2226などがあります。これらのドライバーチップは、メインコントローラとUART非同期シリアル通信を行い、設定ファイルを変更することでドライバの細分、動作電流、静音モードなどを設定できます。
* **SPIモード。** このモードで最も一般的に使用されるドライバには、TMC5160、TMC2130、TMC2240があります。これらのドライバーチップも設定ファイルを変更することでドライバの細分、動作電流、静音モードなどを設定できます。

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/drive-dip.webp').default} size="40%" align="center" />

----

### ドライバの取り付け

* ドライバの取り付け前に適切なチェックを行ってください。これによりドライバまたはメインボードへの損傷を防ぐことができます。
* **FLYドライバ：** 無限回帰ゼロ機能を使用しない場合は、ダイヤルスイッチを位置1にセットしてください。逆に無限回帰ゼロ機能を使用する場合は、ダイヤルスイッチをONの位置にセットしてください。

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/fly2209.webp').default} size="40%" align="center" />

    :::danger

    * **注意！！！ ドライバモジュールを取り付ける際は、必ず挿入方向が正しいことを確認してください。つまりENピンが左上にあること、それ以外の場合、ドライバだけでなくメインボードも損傷する可能性があります！！！ドライバにヒートシンクを貼り付けてください！！！**

    :::

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/drive-install.webp').default} size="40%" align="center" />


----

## ステッピングモーターの配線

:::info
* どのメーカーの製品であれ、2相ステッピングモーターは最終的に4本の線として現れます。色が何であれ、黒、白、緑、黄色が何であれ、対応するのは4本の線です。したがって、線をグループ分けし、A、Bの2つのグループに分ける必要があります。
* 2相4線ステッピングモーターの場合、AグループとBグループのどちらかを特定する必要はありません。主に、設定内でモーターの向きを変更します。
:::

* 3Dプリンターで最も一般的に使用されるのは、2相4線ステッピングモーターです。その原理は以下の図の通りです。ステッピングモーターの配線の順番を判別するには2つの方法があります：
    * 任意の2本の相線を接続し、モーター軸を手で回転させます。明らかに抵抗を感じる場合、その2本の相線は1組となります。逆の場合、それらは1組ではありません。別の相線をテストする必要があります。
    * デジタルマルチメーターを導通モードに設定し、ステッピングモーターの任意の2本の相線をテストします。導通する場合、それらは1組となります。逆の場合、それらは1組ではありません。別の相線をテストする必要があります。
    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/motor-sch.webp').default} size="50%" align="center" />

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-e3/fly-e3-v2/img/wiring/motor.webp').default} size="40%" align="center" />

----

## ヒーターバーの配線

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-e3/fly-e3-v2/img/wiring/heater.webp').default} size="60%" align="center" />

----

## ヒートベッドの配線

* **交流ヒートベッド：** 固定接触リレーを使用する場合、配線時に入力と出力を間違えないように注意してください。

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/bed-ac-1.webp').default} size="20%" align="center" />
    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-e3/fly-e3-v2/img/wiring/bed-ac-2.webp').default} size="40%" align="center" />

* **直流ヒートベッド：** 板載MOSを使用して直流ヒートベッドに接続する場合、使用する電力に注意してください。直流ヒートベッドの最大電流は10Aを超えてはなりません。10Aを超える場合、外付けMOSモジュールを使用してヒートベッドを使用することをお勧めします。それ以外の場合、メインボードに不可逆的な損傷を与える可能性があります。

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-e3/fly-e3-v2/img/wiring/bed-dc.webp').default} size="60%" align="center" />

----

## 温度センサーの配線

### 温度センサータイプの紹介

* 温度センサーの配線方法は以下の図の通りです。温度センサーのタイプについては販売店にお問い合わせください。

* FLY製品を購入した場合（以下図参照）、sensor_type を **ATC Semitec 104GT-2** に設定してください。

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/ntc-1.webp').default} size="30%" align="center" />

* 一般的なNTC 100K（以下図参照）の場合、sensor_type を **Generic 3950** に設定してください。

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/ntc-2.webp').default} size="40%" align="center" />
    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/ntc-3.webp').default} size="40%" align="center" />

----

### メインボードの温度センサーの配線

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-e3/fly-e3-v2/img/wiring/nozzle.webp').default} size="40%" align="center" />



----

## ファンの配線

* **ファンの配線**

    :::tip

    * MOSを取付ける必要があります

    :::

    * ファンの配線
    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-e3/fly-e3-v2/img/wiring/fan.webp').default} size="30%" align="center" />

----

## 限界スイッチの配線

* 限界スイッチは常開（NO）と常閉（NC）の2種類があります。一般的に3Dプリンターでは、**常閉（NC）** を使用することをお勧めします。これは、限界スイッチの回路に問題がある場合、システムがすぐにエラーを報告し、不要な衝突を防ぎ、プリンターの損傷を避けるためです。

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-e3/fly-e3-v2/img/wiring/endstop.webp').default} size="40%" align="center" />

----

## 平滑化センサーの配線



### BL-Touchの配線

* BL-Touchは合計5本の線を持ちます。最初の3本は第1グループで、センサーの供給とプローブの収納・放出を担当します。第2グループは接地線と信号線で、限界信号を出力します。BL-Touchを接続する際は、線の順序を慎重に確認してください。誤った接続はセンサーとメインボードに永久的な損傷を与える可能性があります！！！接続方法は以下の図の通りです。

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-e3/fly-e3-v2/img/wiring/bltouch.webp').default} size="40%" align="center" />

----

### Klickyの配線

* Klickyは第3者の平滑化センサーで、非常に低いコストで自宅で作成でき、安定した性能と高い価値を提供します。推奨します。接続方法は以下の図の通りです。
* プロジェクトアドレス：[jlas1/Klicky-Probe](https://github.com/jlas1/Klicky-Probe "プロジェクトアドレス、クリックすると移動します")

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-e3/fly-e3-v2/img/wiring/klicky.webp').default} size="40%" align="center" />

----

### Voron Tapの配線

* TapはノズルベースのZプローブで、V2およびTridentプリンター設計に適しています。全体のヘッドが動き、光スイッチをトリガします。通常の限界スイッチよりも精度が高いので、市販のほとんどの印刷プラットフォームを使用することができます。

    :::warning

    Voron Tapは **24V** を接続することを推奨しません。一部のバージョンでは、 **24V** を使用すると一定の確率でTapセンサーが壊れる可能性があります。これはFly製品の問題ではなく、Voron Tapの設計上の欠陥であることに注意してください！！！

    :::

    :::danger

    注意：5VとGNDを逆につないでしまうと、Tapセンサー、または最悪の場合、メインボードが損傷する可能性があります！！！

    :::

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-e3/fly-e3-v2/img/wiring/tap.webp').default} size="40%" align="center" />

----

## FLY-Mini12864 LCDの配線

* 以下の図はFLYのmini12864の配線方法です。他のメーカーの画面は各メーカーにお問い合わせください。mini12864画面を逆につなげたり、間違えた接続は上位機器がMCUに接続できない原因となる場合があります。mini12864画面を使用する前に、上位機器がMCUに正常に接続できたが、mini12864を使用するとMCUに接続できなくなった場合、mini12864の接線を抜くことを試してみてください！！！

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-e3/fly-e3-v2/img/wiring/mini12864.webp').default} size="30%" align="center" />

----

## 上位機器への接続

* メインボードはTypeCインターフェースを使用して上位機器のUSBポートに接続することができます。また、シリアルポートを使用して上位機器に接続することもできます。ここでは前者についてのみ説明します。

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-e3/fly-e3-v2/img/wiring/connect-host.webp').default} size="40%" align="center" />

----