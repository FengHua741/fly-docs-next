---
sidebar_position: 4
sidebar_label: メインボード配線
---




# メインボード配線

## インターフェース図

### インターフェース説明

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/interface.webp').default} size="50%" align="center" />

----

### Pin脚説明

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/pin.webp').default} size="50%" align="center" />

---

## 電源配線

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/power.webp').default} size="40%" align="center" />
----

## ドライバのインストール

### メインボードドライバジャンパー

* **STEP/DIRモード。** このモードでは、細分設定はジャンパーキャップを使用して設定し、電流調整はポテンショメータを使用します。最も一般的なのはA4988や8825ドライバで、メーカー提供の細分設定表を参照し、ジャンパーキャップで細分を設定する必要があります。
* **UARTモード。** このモードで最もよく使われるのはTMC2208、TMC2209、TMC2226などのドライバです。これらのドライバチップは主制御基板とUART非同期シリアル通信を行い、設定ファイルを変更することでドライバの細分、動作電流、静音モードなどを設定できます。
* **SPIモード。** このモードでよく使われるドライバにはTMC5160、TMC2130、TMC2240などがあります。これらも設定ファイルを変更することで、ドライバの細分、動作電流、静音モードなどを設定できます。

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/drive-dip.webp').default} size="40%" align="center" />

----

### ドライバの取り付け

* ドライバを取り付ける前に、適切なチェックを行い、ドライバやメインボードに損傷を与えないようにしてください。
* **FLYドライバ:** 無限位リセット機能を使用しない場合、ダイアルスイッチを1の位置に設定してください。一方、無限位リセット機能を使用する場合は、ダイアルスイッチをONの位置に設定してください。

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/fly2209.webp').default} size="40%" align="center" />

    :::danger

    * **注意！！！ ドライバモジュールを取り付ける際には、必ず正しい方向を確認してください。つまり、ENピンが左上隅にあるかどうかを確認してください。間違えるとドライバだけでなくメインボードも損傷する可能性があります！！！ 散熱シートをドライバに貼り付けてください！！！**

    :::

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/drive-install.webp').default} size="40%" align="center" />


----

## ステッピングモーターの接続

:::info
* どのメーカーが作成した二相ステッピングモーターであっても、最終的に現れるのは4本の線です。どんな色であれ、黒、白、緑、黄色など、すべて4本の線です。したがって、線をグループ分けし、A、Bの2つのグループに分ける必要があります。
* 二相四線のステッピングモーターの場合、どちらがAグループかBグループかは特定する必要はありません。どちらでも良いので、設定内でモーターの方向を変更すれば問題ありません。
:::

* 3Dプリンターで最もよく使用されるのは二相四線のステッピングモーターであり、その原理は次の図の通りです。ステッピングモーターの配線の順番を識別するには以下の2つの方法があります：
    * 任意の2本の相線を接続し、モーター軸を手で回転させて、明らかな抵抗を感じた場合、この2本の相線は1組となります。そうでない場合、もう一度他の相線をテストしてください。
    * マルチメーターを導通モードに設定し、ステッピングモーターの任意の2本の相線をテストします。通じている場合、これは1組となります。そうでない場合、もう一度他の相線をテストしてください。
    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/motor-sch.webp').default} size="50%" align="center" />

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/motor.webp').default} size="40%" align="center" />

----

## ヒータータイプの接続

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/heater.webp').default} size="60%" align="center" />

----

## サーマルベッドの接続

* **交流サーマルベッド:** 固定されたリレーを使用する際には、入力と出力を誤って接続しないように注意してください。

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/bed-ac-1.webp').default} size="20%" align="center" />
    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/bed-ac-2.webp').default} size="40%" align="center" />

* **直流サーマルベッド:** ボード搭載のMOSを使用して直流サーマルベッドに接続する際には、使用可能な電力に注意してください。直流サーマルベッドの最大電流は10Aを超えてはいけません。10Aを超える場合、外部MOSモジュールを使用してサーマルベッドを使用することをお勧めします。それ以外の場合、メインボードに不可逆的な損傷を与える可能性があります。

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/bed-dc.webp').default} size="60%" align="center" />

----

## 温度センサの接続

### 温度センサの種類について

* 温度センサの接続方法は以下の図の通りです。温度センサの種類については、販売店にお問い合わせください。

* FLYで購入した場合（下図参照）、sensor_type を「**ATC Semitec 104GT-2**」に設定してください。

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/ntc-1.webp').default} size="30%" align="center" />

* 普通のNTC 100K（下図参照）の場合、sensor_type を「**Generic 3950**」に設定してください。

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/ntc-2.webp').default} size="40%" align="center" />
    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/ntc-3.webp').default} size="40%" align="center" />

----

### メインボードの温度センサ接続

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/ntc-4.webp').default} size="40%" align="center" />
    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/ntc-5.webp').default} size="40%" align="center" />



----

## ファンの接続

* **ファンの接続**

    :::tip

    * MOSは取り付けが必要です

    :::

    * ファンの接続
    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/fan.webp').default} size="30%" align="center" />

----

## 限位スイッチの接続

* 限位スイッチには常開(NO)と常閉(NC)の2種類があります。一般的に3Dプリンターでは、**常閉(NC)**を使用することをお勧めします。そうすることで、限位スイッチの回路に問題がある場合、システムがすぐにエラーを報告し、不必要な衝突を防ぎ、プリンターを損傷から守ることができます。

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/endstop.webp').default} size="40%" align="center" />

----

## タッチセンサーの接続



### BL-Touchの接続

* BL-Touchには5本の線があり、最初の3本は第1グループで、センサーの電源供給とプローブの収納・放出を担当しています。第2グループは地線と信号線で、限位信号を出力します。BL-Touchを接続する際には、必ず線の順番を確認してください。誤った接続はセンサーとメインボードに永久的な損傷を与える可能性があります！！！ 接続方法は次の図の通りです。

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/bltouch.webp').default} size="40%" align="center" />

----

### Klickyの接続

* Klickyは第3者製のタッチセンサーで、非常に低コストで自宅で簡単に作成でき、安定した性能と高いコストパフォーマンスを持っています。お勧めです。接続方法は次の図の通りです。
* プロジェクトアドレス: [jlas1/Klicky-Probe](https://github.com/jlas1/Klicky-Probe "プロジェクトアドレス、クリックすると移動できます")

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/klicky.webp').default} size="40%" align="center" />

----

### Voron Tapの接続

* TapはノズルベースのZプローブで、V2およびTridentプリンター設計に対応しています。全体的なヘッドの動きによって光スイッチをトリガーし、通常の限位スイッチよりも精度が高く、市販のほとんどのプラットフォームを使用可能です。

    :::warning

    Voron Tapは**24V**には接続しないことをお勧めします。一部のバージョンでは、**24V**を使用するとTapセンサーが損傷する可能性があります。これはFly製品の問題ではなく、Voron Tapの設計欠陥です。ご了承ください！！

    :::

    :::danger

    注意: 5VとGNDは逆接しないようにしてください。逆接するとTapセンサー、またはそれによってメインボードが損傷する可能性があります！！

    :::

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/tap.webp').default} size="40%" align="center" />

----



## 上位機器への接続

* メインボードはType-Bインターフェースを使用して上位機器のUSBポートに接続できます。また、シリアルポートを使用して上位機器に接続することもできます。ここでは前者のみを説明します。

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/connect-host.webp').default} size="40%" align="center" />

----
