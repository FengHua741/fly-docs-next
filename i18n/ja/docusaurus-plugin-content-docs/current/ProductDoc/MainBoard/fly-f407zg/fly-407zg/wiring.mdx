---
sidebar_position: 4
sidebar_label: メインボードの配線
---

# メインボードの配線

## インターフェイス図

### インターフェイス説明

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/interface.webp').default} size="50%" align="center" />

----

### Pinの説明

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/pin.webp').default} size="50%" align="center" />

---

## 電源配線

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/power.webp').default} size="40%" align="center" />
----

## ドライバのインストール

### メインボードドライバジャンパー

* **STEP/DIRモード。** このモードでは、ジャンパーキャップを使用して分割数を設定し、ポテンショメータを使用して電流を調整します。最も一般的なのはA4988、8825ドライバがメーカーが提供する分割数設定表を参照し、ジャンパーキャップを使用して分割数を設定する必要があります。
* **UARTモード。** このモードで最も一般的に使用されるドライバには：TMC2208、TMC2209、TMC2226などがあります。これらのドライバチップは、メインコントローラとUART非同期シリアル通信を行い、設定ファイルを変更することでドライバの分割数、動作電流、静音モードなどを設定できます。
* **SPIモード。** このモードで最も一般的に使用されるドライバには：TMC5160、TMC2130、TMC2240などがあり、設定ファイルを変更することでドライバの分割数、動作電流、静音モードなどを設定できます。

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/drive-dip.webp').default} size="40%" align="center" />

----

### ドライバのインストール

* ドライバをインストールする前に、適切なチェックが必要です。これにより、ドライバまたはメインボードへの損傷を防ぐことができます。
* **FLYドライバ：** 無限位リセット機能を使用しない場合は、ダイヤルスイッチを1の位置に設定してください。逆に、無限位リセット機能を使用する場合は、ダイヤルスイッチをONの位置に設定してください。

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/fly2209.webp').default} size="40%" align="center" />

    :::danger

    * **注意！！！ ドライバモジュールをインストールする際は、必ず挿入方向が正しいことを確認してください。つまり、ENピンが左上にあること。そうでなければ、ドライバだけでなく、メインボードも損傷する可能性があります！！！ 散熱シートをドライバに貼り付けることを忘れないでください！！！**

    :::

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/drive-install.webp').default} size="40%" align="center" />


----

## ステッパーモーターの配線

:::info
* どのメーカーの2相ステッパーモーターであっても、最終的に現れる形は4本の線です。何色であれ、黒、白、緑、黄色など、対応するのは4本の線です。したがって、線をグループ分けし、A、Bの2つのグループに分ける必要があります。
* 2相4線のステッパーモーターの場合、AグループとBグループのどちらがどのグループかを知る必要はありません。主に、一方のグループを特定し、設定内でモーターの向きを変更するだけです。
:::

* 3Dプリンターで最も一般的に使用されるのは2相4線のステッパーモーターであり、その原理は図に示されています。ステッパーモータの配線順を識別する方法は2つあります：
    * 任意の2本の相線を接続し、モーターアクスルを手で回転させます。明らかに抵抗を感じる場合、2本の相線は1組となります。それ以外の場合は、1組ではありません。他の相線をテストする必要があります。
    * 多機能メーターをトランスポートモードに設定し、ステッパーモータの任意の2本の相線をテストします。通電する場合、1組となります。それ以外の場合は、1組ではなく、他の相線をテストする必要があります。
    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/motor-sch.webp').default} size="50%" align="center" />

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/motor.webp').default} size="40%" align="center" />

----

## ヒータータブの配線

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/heater.webp').default} size="60%" align="center" />

----

## ヒートベッドの配線

* **ACヒートベッド：** 固定リレーを接続する際には、入力と出力を間違えないように注意してください。

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/bed-ac-1.webp').default} size="20%" align="center" />
    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/bed-ac-2.webp').default} size="40%" align="center" />

* **DCヒートベッド：** 板載MOSを使用してDCヒートベッドを接続する際には、注意点があります。DCヒートベッドの最大電流は10Aを超えてはなりません。10Aを超える場合、外付けMOSモジュールを使用することをお勧めします。それ以外の場合、メインボードに不可逆的な損傷を与える可能性があります。

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/bed-dc.webp').default} size="60%" align="center" />

----

## 温度センサの配線

### 温度センサの種類について

* 温度センサの配線方法は以下の図の通りです。温度センサの種類については、購入元に問い合わせてください。

* FLYが購入した場合（以下の図参照）、sensor_type を **ATC Semitec 104GT-2** に設定してください。

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/ntc-1.webp').default} size="30%" align="center" />

* 通常のNTC 100K（以下の図参照）の場合、sensor_type を **Generic 3950** に設定してください。

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/ntc-2.webp').default} size="40%" align="center" />
    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/ntc-3.webp').default} size="40%" align="center" />

----

### メインボードの温度センサの配線

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/ntc-4.webp').default} size="40%" align="center" />
    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-super/fly-super8/img/wiring/ntc-5.webp').default} size="40%" align="center" />



----

## ファンの配線

* **ファンの配線**

    :::tip

    * MOSは取り付けが必要です

    :::

    * ファンの配線
    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/fan.webp').default} size="30%" align="center" />

----

## 限界スイッチの配線

* 限界スイッチには常開（NO）と常閉（NC）の2種類があります。一般的に3Dプリンターでは、**常閉（NC）** を推奨します。これにより、限界スイッチの回路に問題があった場合、システムがすぐにエラーを報告し、予期せぬ衝突やプリンターの損傷を防ぐことができます。

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/endstop.webp').default} size="40%" align="center" />

----

## レベルセンサの配線



### BL-Touchの配線

* BL-touchには5本の線があり、最初の1組はセンサーの電源供給とプローブの伸縮を担当し、2組目はアースと信号線で、制限信号を出力します。BL-touchを接続する際には、配線順を慎重に確認してください。誤った接続はセンサーとメインボードに永久的な損傷を与える可能性があります！！！ 接線方法は以下の図の通りです。

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/bltouch.webp').default} size="40%" align="center" />

----

### Klickyの配線

* Klickyは第3者のレベルセンサで、非常に低いコストで自宅で作成でき、性能が安定しており、コストパフォーマンスが高いことが特徴です。推奨します。接線方法は以下の図の通りです。
* プロジェクトURL：[jlas1/Klicky-Probe](https://github.com/jlas1/Klicky-Probe "プロジェクトURL、クリックすると移動します")

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/klicky.webp').default} size="40%" align="center" />

----

### Voron Tapの配線

* Tapはノズルベースのzプローブで、V2とTridentプリンターデザインに適しています。全体のヘッドが動き、光スイッチをトリガーすることで、精度が高くなります。一般的な限界スイッチよりも高い精度を実現できます。

    :::warning

    Voron Tapは **24V** を接続しないことをお勧めします。一部のバージョンでは、 **24V** を使用するとTapセンサーが故障する可能性があります。これはFly製品の問題ではなく、Voron Tapの設計上の欠陥であることに注意してください。

    :::

    :::danger

    注意：5VとGNDを逆につないではいけません。それによってTapセンサーまたはメインボードが損傷する可能性があります！！

    :::

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/tap.webp').default} size="40%" align="center" />

----



## 上位機器への接続

* メインボードはType-Bインターフェイスを使用して、上位機器のUSBポートに接続できます。また、シリアルポートを通じて上位機器に接続することもできます。ここでは前者についてのみ説明します。

    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-f407zg/fly-407zg/img/wiring/connect-host.webp').default} size="40%" align="center" />

----