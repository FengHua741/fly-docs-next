import FALSH from '@site/i18n/ru/docusaurus-plugin-content-docs/current/General/fly-os/_falsh.mdx';

# Через подготовку USB для M2WE

### Подготовительные работы

### Подготовительные работы

    * Сначала установите программное обеспечение `SDFormatter` и `Rufus`
    <Button variant="contained" disableElevation component="a" rel="noopener" href="/docs/ResDownload/auxiliary_software/">Инструмент форматирования</Button>
    * Скачайте [драйвер M2WE BOOT](/docs/ResDownload/auxiliary_software/ "Щелкните для перехода")
    * Распакуйте систему, после распаковки имя файла должно заканчиваться на `.img`
    * Не рекомендуется использовать `balenaetcher` или `Raspberry Pi` для записи системы
    * Установите M2WE или SD-карту на M2SD, затем подключите M2SD к USB-порту компьютера
    * Если в M2WE есть данные, сделайте резервную копию


### Установка драйверов

    * Запустите программу `Zadig`
    * За исключением первого `Zadig`, который не требует установки и может быть запущен сразу, остальные два нуждаются в установке. Во время установки просто нажимайте `Далее` или `Next`
    * Откройте `Zadig`, в меню сверху выберите в разделе `Options` пункт `List All Devices`

    <ImageView image={require('@site/docs/General/fly-os/img/zadig.webp').default} size="80%" align="left" />

:::tip
Убедитесь, что устройство подключено к компьютеру при нажатии кнопки
:::

    * Установите M2WE, удерживая кнопку BOOT и подключив двусторонний USB к компьютеру

    <ImageView image={require('@site/docs/General/fly-os/img/usb-boot.webp').default} size="80%" align="center" />
            <Tabs>
                <TabItem value="c8" label="FLY-C8" default>
                    * Порты FLY-C8

                    <ImageView image={require('@site/docs/General/fly-os/img/c8-boot.webp').default} size="80%" align="center" />
                </TabItem>
                <TabItem value="piv2" label="FLY-Pi v2" default>
                    * Порты FLY-Pi v2

                    <ImageView image={require('@site/docs/General/fly-os/img/piv2-boot.webp').default} size="80%" align="center" />
                </TabItem>
                <TabItem value="piv1" label="FLY-Pi(π)" default>
                    * Порты FLY-Pi

                    <ImageView image={require('@site/docs/General/fly-os/img/pi-boot.webp').default} size="80%" align="center" />
                </TabItem>
                <TabItem value="gemini" label="FLY-Gemini" default>
                    * Порты FLY-Gemini

                    <ImageView image={require('@site/docs/General/fly-os/img/pi-boot.webp').default} size="80%" align="center" />

                </TabItem>
            </Tabs>

    * Запустите zadig

    <ImageView image={require('@site/docs/General/fly-os/img/zadig1.webp').default} size="80%" align="left" />

    * Если всё выполнено правильно, в zadig появится новый элемент `Неизвестное устройство #x` или `USB устройство(VID_1f3a_PID_efe8)`, выберите его

    <ImageView image={require('@site/docs/General/fly-os/img/zadig2.webp').default} size="80%" align="left" />

    * После выбора устройства проверьте, совпадает ли USB ID с изображением выше. Если нет, выберите другое устройство
    * На втором изображении можно выбрать только `WinUSB(vxxxxxxx)`, версия не важна
    * Нажмите `Установить драйвер` для установки драйвера

    <ImageView image={require('@site/docs/General/fly-os/img/zadig3.webp').default} size="80%" align="left" />
:::tip
    * Драйвер USB успешно установлен (драйвер устанавливается один раз, если в дальнейшем понадобится повторная запись, драйвер устанавливать не нужно)
    * Запустите установленный FLY-BOOT, нажмите `Проверить устройство`
    * Если предыдущие шаги выполнены правильно, будет показано, что доступное устройство обнаружено
    * Нажмите `Запустить BOOT`, если всё нормально, будет показано, что BOOT успешно активирован
:::
### Форматирование M2WE

    * Используйте программу `TFFormatter.exe` для форматирования диска BOOT

    <ImageView image={require('@site/docs/General/fly-os/img/sdformatter.webp').default} size="80%" align="left" />

    * Или используйте встроенные средства Windows для удаления разделов, после удаления разделов создайте их заново
    * Теперь можно открыть проводник, там появится флешка размером 14.5 ГБ (16 ГБ eMMC показывает размер как 14.5 ГБ)
    * Теперь можно использовать Win32diskimager для записи системного образа, выбрав этот 14.5 ГБ USB-накопитель


### Запись на M2WE

<FALSH />
