---
sidebar_position: 3
sidebar_label: Загрузка прошивки через USB
---


import MakeOperate from "/docs/General/flyos-fast/_firmware_make_operate.mdx";
import USB from '@site/i18n/ru/docusaurus-plugin-content-docs/current/General/dfu-flash/_firmware/723/_usb.mdx';
import GetUsbID from '@site/i18n/ru/docusaurus-plugin-content-docs/current/General/get-id/_get-usbid-flyosfast.mdx';



# Компиляция прошивки через USB


## Проверка переключателей

    :::danger Важно
    - При нормальной работе системы переключатель должен быть установлен в положение "Вверх"
    - При установке переключателя убедитесь, что он установлен до конца вверх, иначе может произойти неправильное подключение к нижнему устройству!!!
    :::
        <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-c/fly-c5/flash/img/dip_switch.webp').default} size="60%" align="center" />


## Подключение по SSH к верхнему устройству

    :::danger Предупреждение
    - Перед компиляцией прошивки необходимо подключиться к верхнему устройству через Wi-Fi по SSH
    :::

 * Сначала выполните: <Button variant="contained" disableElevation component="a" rel="noopener" href="/docs/ProductDoc/MainBoard/fly-c/fly-c5/ssh#подключение-по-wifi-к-верхнему-устройству-ssh">Подключение по Wi-Fi к верхнему устройству SSH</Button>  
 ---
 <br/>

    <Tabs>
    <TabItem value="usb" label="Загрузка прошивки через USB" default>
    ### Загрузка прошивки через USB
        :::tip Совет
        - В системе FLYOS-FAST заранее скомпилирована одна USB-прошивка, нет необходимости вручную компилировать прошивку, достаточно выполнить команду ниже для её загрузки
        - Также можно выбрать «Ручную компиляцию USB-прошивки» и самостоятельно скомпилировать прошивку
        :::

        * Через SSH подключитесь к верхнему устройству и введите следующую команду
        ```bash
        fly-flash -d c5 -h -f /usr/lib/firmware/klipper-h723-128k-usb.bin
        ```
        <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-c/fly-c5/flash/img/usb1.webp').default} size="80%" align="center" />
        <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-c/fly-c5/flash/img/usb2.webp').default} size="80%" align="center" />
    

    </TabItem>

    <TabItem value="can" label="Ручная компиляция USB-прошивки">
    ## Ручная компиляция USB-прошивки

        <MakeOperate/>
    
        <USB />
    
        * Нажмите клавишу `Q`, чтобы появилось окно "Сохранить конфигурацию", затем нажмите клавишу `Y`
        <ImageView image={require('@site/docs/General/dfu-flash/img/configuration.webp').default} size="40%" align="center" />
    
        * Теперь конфигурация должна быть сохранена, и вы вернётесь в командную строку
    
        * Введите `make -j4` для начала компиляции, процесс займёт некоторое время
        <ImageView image={require('@site/docs/General/flyos-fast/img/firmware_build1.webp').default} size="60%" align="center" />
    
        * Если выводится следующий результат, то компиляция успешна
        <ImageView image={require('@site/docs/General/flyos-fast/img/firmware_build2.webp').default} size="60%" align="center" />
        ---
        
        ### Загрузка прошивки
        
        :::tip
        Выполните следующую команду для загрузки прошивки
        :::
        
            ```bash
            fly-flash -d c5 -h -f ~/klipper/out/klipper.bin
            ```
        <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-c/fly-c5/flash/img/usb3.webp').default} size="80%" align="center" />
        <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-c/fly-c5/flash/img/usb2.webp').default} size="80%" align="center" />

    </TabItem>
</Tabs>
---

<GetUsbID />


<br/>
