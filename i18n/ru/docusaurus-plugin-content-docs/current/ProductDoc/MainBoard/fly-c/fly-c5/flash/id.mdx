---
sidebar_position: 5
sidebar_label: Руководство по поиску ID

---

import GetUsbID from '@site/i18n/ru/docusaurus-plugin-content-docs/current/General/get-id/_get-usb-id.mdx';
import GetRS232ID from '@site/i18n/ru/docusaurus-plugin-content-docs/current/General/get-id/_get-rs232-id.mdx';
import GetCanbusUUID from '@site/i18n/ru/docusaurus-plugin-content-docs/current/General/get-id/_get-canbus-uuid.mdx';

# Чтение и просмотр ID материнской платы

:::tip
Пожалуйста, не изменяйте конфигурацию при переводе веб-страницы
:::

:::warning Важно
Пожалуйста, не изменяйте конфигурацию при переводе веб-страницы
:::

:::danger Важное примечание
Пожалуйста, не изменяйте конфигурацию при переводе веб-страницы
:::

<Tabs>
<TabItem value="usb" label="Получение USB ID" default>
* Подготовьте данные кабель с функцией передачи данных. Если длина кабеля особенно велика, рекомендуется использовать кабель с магнитным фильтром

<GetUsbID />
</TabItem>

<TabItem value="can" label="Получение ID CAN через USB-мост">
* Подготовьте данные кабель с функцией передачи данных. Если длина кабеля особенно велика, рекомендуется использовать кабель с магнитным фильтром
* Перед поиском ID используйте кабель XT30 для подключения инструментальной платы к материнской плате Gemini с прошивкой моста
* Схема подключения CAN-плотформы:
    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-c/fly-c8/flash/img/canbridge.webp').default} size="80%" align="left" />
* При необходимости подключите резистор 120Ω:
    <ImageView image={require('@site/docs/ProductDoc/MainBoard/fly-c/fly-c8/flash/img/120.webp').default} size="80%" align="left" />

## Настройка CAN и поиск ID

* Если вам нужно использовать CAN, убедитесь, что компьютер верхнего уровня настроен на работу с CAN

---

:::danger Важное примечание
Убедитесь, что материнская плата правильно подключена к компьютеру верхнего уровня перед выполнением следующих операций
:::

:::warning
Убедитесь, что CAN-сеть компьютера верхнего уровня, скорость CAN на мостовой материнской плате и скорость CAN-платы полностью совпадают
:::

### Примечания перед поиском устройства

* Перед поиском ID CAN убедитесь, что вы [подключены к SSH](/docs/DebugDoc/BasicTutorial/index.mdx "Щелкните для перехода")
* Убедитесь, что вы вошли в систему через сеть SSH, а не через последовательный порт
* Убедитесь, что UTOC подключен или материнская плата прошита CAN-мостовой прошивкой, и кабель, соединяющий компьютер верхнего уровня, имеет функцию передачи данных

### Поиск устройства

* После входа в систему верхнего уровня введите команду `lsusb`, чтобы найти устройство. Возможны следующие ситуации:
    * Если появляется сообщение об отсутствии команды `ls`, введите следующую команду для установки:
        ```bash
        sudo apt-get install usbutils
        ```
    * Если команда `lsusb` не работает, это проблема системы, необходимо заменить систему или использовать нормальную систему
    * Если появляется следующее изображение, убедитесь, что есть `1d50:606f`:
        <ImageView image={require('@site/docs/General/get-id/img/606f.webp').default} size="100%" align="left" />
* `1d50:606f` — это устройство, которое понадобится для данной задачи. Если есть несколько `1d50:606f`, рекомендуется исключить один, чтобы избежать конфликтов при дальнейших операциях.
* Если нет, проверьте правильность подключения кабеля и прошивки.

:::warning Важно
Для поиска ID CAN необходимо наличие `1d50:606f`
:::

### Поиск ID CAN

* Введите следующую команду для поиска ID:
    ```bash
    python ~/klipper/scripts/canbus_query.py can0
    ```
* Если появляется ID и `Application:` показывает `Klipper`, этот ID можно использовать напрямую.
* Если `Application:` показывает `CANBOOT` или `Katapult`, необходимо перепрошить:
    <ImageView image={require('@site/docs/General/get-id/img/canbus-uuid.webp').default} size="50%" align="left" />

### Коллекция проблем CAN

:::danger Важное примечание
* Если не удается найти ID CAN, ознакомьтесь с документацией ниже:  
    <Button variant="contained" disableElevation component="a" rel="noopener" href="/docs/DebugDoc/faq/klipper_can">Коллекция проблем CAN</Button>
:::

### Заполнение ID CAN в конфигурации

* Откройте веб-интерфейс принтера, найдите раздел конфигурации в левом боковом меню:
    * fluidd: `{…}`
    * mainsail: `Машина`
* После входа найдите `printer.cfg`, скопируйте полученный UUID и вставьте его в параметр `canbus_uuid:` узла `[mcu]`. Сохраните и перезагрузите систему для подключения материнской платы.
    <ImageView image={require('@site/docs/General/get-id/img/fluidd-cfg.webp').default} size="50%" align="left" />
* Если Klipper сообщает о необходимости обновления прошивки или возникают ошибки ADC, это означает, что Klipper успешно подключился к материнской плате.
    <ImageView image={require('@site/docs/General/get-id/img/canbus-uuid.webp').default} size="50%" align="left" />

:::danger
Важно: Все ID в документации являются примерами. Фактический ID каждой материнской платы различается, пожалуйста, измените их на реальные значения при заполнении.
:::

</TabItem>
</Tabs>
