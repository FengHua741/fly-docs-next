---
sidebar_position: 1
sidebar_label: Системная запись FLYOS-FAST
---

Рекомендуется к использованию !!! Данная система специально разработана FLY для 3D-принтеров!

# Инструкция по установке системы FLYOS-FAST

## Установка системы

Инструкция по записи системы FLYOS-FAST: <Button variant="contained" disableElevation href="/docs/DebugDoc/flyos-fast/#introduction">инструкция по записи системы FLYOS-FAST</Button>


<br/>
<br/>
<br/>


## Краткое описание системы

* FlyOS-Fast — это легковесная операционная система на базе Linux, специально адаптированная для 3D-печати, с быстрым запуском (всего 30 секунд). Поддерживает все платформы Fly.
* Оптимизирован ядро для повышения реального времени работы Klipper.
* Оптимизирован файловая система для предотвращения повреждений системы при внезапном отключении питания.
* Предустановлены службы Klipper, RRF, Mainsail, Fluidd, Moonraker, KlipperScreen.
* Поддерживается переключение между системами Klipper и RRF.
* Поддерживается переключение между интерфейсами Mainsail и Fluidd через веб-интерфейс.
* Поддерживается печать с USB-накопителя.
* В сочетании с модулем KPPM обеспечивает возможность возобновления печати после отключения питания.
* Поддерживает предварительную настройку языка интерфейса Fluidd и имени принтера.
* Дополнительные OEM-функции: логотип при старте, преднастроенные конфигурационные файлы, скрытие вкладок Mainsail и другие — свяжитесь с нами.

## Подготовка

1. Скачайте образ системы
    - Ссылка на загрузку образа: [Скачать образ Piv2](https://g-ofpa1390.coding.net/public-artifacts/3D-Printers/flyos-fast/FlyOS-Fast-H5.exe/version/50907014/overview "Перейти по ссылке") (только для Windows)  
    - Ссылка на загрузку образа: [Скачать образ Piv2](https://g-ofpa1390.coding.net/public-artifacts/3D-Printers/flyos-fast/FlyOS-Fast-H5.7z/version/50907002/overview "Перейти по ссылке") (поддерживает Windows, MacOS, Linux)

    <ImageView image={require('@site/docs/ProductDoc/SBC/fly-pi-v2/img/flyos-fast_download.webp').default} size="90%" align="center" />


2. Скачайте инструмент для записи образа. В качестве примера будет использоваться `Rufus`. На самом деле можно использовать другие инструменты, такие как `Etcher`, `Win32 Disk Imager`.
    - Ссылка на скачивание Rufus: [Скачать на русском](https://rufus.ie/zh/#download) или [Download in English](https://rufus.ie/en/#download) (только для Windows).
    - Ссылка на скачивание Etcher: [Скачать](https://etcher.balena.io/#download-etcher) (поддерживает Windows, MacOS, Linux).
    - Ссылка на скачивание Win32 Disk Imager: [Скачать](https://sourceforge.net/projects/win32diskimager/) (только для Windows).

3. Будем использовать пример `FlyOS-Fast-H5.exe`.

4. Разархивируйте образ системы, чтобы получить файл `.img`.
    - Дважды щелкните или откройте файл правой кнопкой мыши `FlyOS-Fast-H5.exe`, через несколько секунд появится окно (если система предупреждает о безопасности, выберите «Дополнительные сведения» -> «Запустить»).
    - Выберите директорию для распаковки, затем нажмите кнопку `Extract`, подождите завершение процесса.
    
    <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/ext1.webp').default} size="60%" align="center" />

    - После завершения распаковки в указанной директории появится файл `FlyOS-Fast-H5-vx.x.x.img`. `x.x.x` — версия системы.

## Запись образа

    <Tabs>
        <TabItem value="TF" label="Запись на TF-карту" default>

            1. - Для записи необходимая TF-карта должна быть больше 4 ГБ, рекомендуется использовать TF-карту SanDisk объемом 32 ГБ и выше класса C10 (при тестировании выяснилось, что многие дешевые карты после записи не запускаются).
               - Для записи TF-карты используйте кардридер SD, вставьте карточку в кардридер, а затем подключите кардридер к компьютеру.
            2. Откройте `Rufus`, выберите устройство. Выбранное устройство должно показывать емкость, совпадающую с емкостью вставленной в компьютер TF-карты.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash1.webp').default} size="40%" align="center" />
    
            3. Выберите файл образа, нажмите кнопку `Выбрать` справа от поля `Тип загрузки`.
            4. После выбора файла образа поле `Тип загрузки` изменится на имя файла образа.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash2.webp').default} size="40%" align="center" />
            
            5. Нажмите кнопку `Начать`. Если появится окно с предупреждением о необходимости очистки диска, нажмите `ОК`.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash3.webp').default} size="50%" align="center" />
            
            6. После завершения записи компьютер издаст звуковой сигнал, и индикатор прогресса покажет `Готово`.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash4.webp').default} size="40%" align="center" />
            
            7. После завершения записи не торопитесь вынимать TF-карту.
            8. Откройте Проводник Windows и проверьте наличие флешки или мобильного устройства с именем `FlyOS-Conf`.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash5.webp').default} size="60%" align="center" />
            
            9. Откройте `FlyOS-Conf`. Если там присутствуют два указанных ниже файла, запись выполнена успешно.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash6.webp').default} size="70%" align="center" />
            
            10. Файл `config.txt` — это конфигурационный файл системы. См. следующую страницу для его содержимого. Измените конфигурационный файл.

        </TabItem>
        <TabItem value="M2WE" label="Через USB запись на M2WE">
        
            1. Скачайте драйверы:
               - <Button variant="contained" disableElevation href="https://cdn.mellow.klipper.cn/Utils/zadig-2.7.exe">Драйверы для M2WE</Button>
               - <Button variant="contained" disableElevation href="https://cdn.mellow.klipper.cn/Utils/FLY-BOOT-Setup.msi">Инструмент запуска BOOT для M2WE</Button>

            2. Установите драйверы:
               - Откройте `Zadig`, в меню `Options` отметьте опцию `List All Devices`
    
            <ImageView image={require('@site/docs/General/fly-os/img/zadig.webp').default} size="80%" align="left" />
            
            3. Установите M2WE, затем нажмите кнопку `BOOT` на материнской плате и подключите верхнюю часть USB-кабеля к компьютеру
    
            <ImageView image={require('@site/docs/ProductDoc/SBC/fly-pi-v2/img/piv2_boot1.webp').default} size="70%" align="center" />
            <ImageView image={require('@site/docs/ProductDoc/SBC/fly-pi-v2/img/piv2_boot2.webp').default} size="70%" align="center" />
    
            4. Откройте zadig
    
            <ImageView image={require('@site/docs/General/fly-os/img/zadig1.webp').default} size="80%" align="center" />
        
            5. Если всё сделано правильно, в Zadig появится новое устройство `Неизвестное устройство #x` или `USB Device(VID_1f3a_PID_efe8)`. Выберите его
        
            <ImageView image={require('@site/docs/General/fly-os/img/zadig2.webp').default} size="80%" align="center" />
        
            6. После выбора устройства проверьте, совпадает ли USB ID с указанным выше. Если нет, выберите другое устройство.
            7. Во втором месте можно выбрать только `WinUSB(vxxxxxxx)`, версия无所谓.
            8. Нажмите `Установить драйвер`, драйвер нужно установить только один раз на одно устройство.
    
            <ImageView image={require('@site/docs/General/fly-os/img/zadig3.webp').default} size="80%" align="center" />

            9. Откройте установленный FLY-BOOT, нажмите `Проверить устройство`. Если шаги выполнены корректно, появится уведомление о доступном устройстве.
            <ImageView image={require('@site/docs/General/fly-os/img/fly_boot1.webp').default} size="60%" align="center" />

            10. Нажмите `Запустить BOOT`. Если всё нормально, появится уведомление об успешном запуске BOOT, подождите несколько секунд для перехода к следующему шагу.

            <ImageView image={require('@site/docs/General/fly-os/img/fly_boot2.webp').default} size="60%" align="center" />
            
            11. Откройте `Rufus`, выберите устройство. Выбранное устройство должно показывать емкость, совпадающую с емкостью вставленной в компьютер TF-карты.  
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash1.webp').default} size="40%" align="center" />
    
            12. Выберите файл образа, нажмите кнопку `Выбрать` справа от поля `Тип загрузки`, выберите распакованный файл `.img`.
            13. После выбора файла образа поле `Тип загрузки` изменится на имя файла образа.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash2.webp').default} size="40%" align="center" />
            
            14. Нажмите кнопку `Начать`. Если появится окно с предупреждением о необходимости очистки диска, нажмите `ОК`.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash3.webp').default} size="50%" align="center" />
            
            15. После завершения записи компьютер издаст звуковой сигнал, и индикатор прогресса покажет `Готово`.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash4.webp').default} size="40%" align="center" />
            
            16. После завершения записи не торопитесь вынимать TF-карту.
            17. Откройте Проводник Windows и проверьте наличие флешки или мобильного устройства с именем `FlyOS-Conf`.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash5.webp').default} size="60%" align="center" />
            
            18. Откройте `FlyOS-Conf`. Если там присутствуют два указанных ниже файлов, запись выполнена успешно.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash6.webp').default} size="70%" align="center" />
            
            19. Файл `config.txt` — это конфигурационный файл системы. См. следующую страницу для его содержимого. Измените конфигурационный файл

        </TabItem>
        <TabItem value="M2SD" label="Через M2SD Burner запись на M2WE или TF-карту">
            :::danger Важно
                * Данное устройство поддерживает USB 3.0
                * Одновременная установка TF и M2WE недоступна
                * После установки M2WE или SD-карты подключение их к USB-порту компьютера позволяет форматировать
                * Установка других устройств, таких как NVME, недопустима, так как это может привести к повреждению устройства !!!
            :::
            
            1. Установите M2WE или SD-карту на M2SD. Если используется TF-карта для записи, она должна быть больше 4 ГБ, рекомендуется использовать TF-карту SanDisk объемом 32 ГБ и выше класса C10 (во время тестирования выяснилось, что многие дешевые карты после записи не запускаются)
                - Установка M2WE
                <ImageView image={require('@site/docs/General/fly-os/img/m2sd/m2sd-1.webp').default} size="100%" align="left" />
                - Установка SD-карты
                <ImageView image={require('@site/docs/General/fly-os/img/m2sd/m2sd.webp').default} size="100%" align="left" />

            2. Откройте `Rufus`, выберите устройство. Выбранное устройство должно показывать емкость, совпадающую с емкостью вставленной в компьютер TF-карты.  
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash1.webp').default} size="40%" align="center" />
    
            3. Выберите файл образа, нажмите кнопку `Выбрать` справа от поля `Тип загрузки`, выберите распакованный файл `.img`.
            4. После выбора файла образа поле `Тип загрузки` изменится на имя файла образа.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash2.webp').default} size="40%" align="center" />
            
            5. Нажмите кнопку `Начать`. Если появится окно с предупреждением о необходимости очистки диска, нажмите `ОК`.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash3.webp').default} size="50%" align="center" />
            
            6. После завершения записи компьютер издаст звуковой сигнал, и индикатор прогресса покажет `Готово`.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash4.webp').default} size="40%" align="center" />
            
            7. После завершения записи не торопитесь вынимать TF-карту.
            8. Откройте Проводник Windows и проверьте наличие флешки или мобильного устройства с именем `FlyOS-Conf`.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash5.webp').default} size="60%" align="center" />
            
            9. Откройте `FlyOS-Conf`. Если там присутствуют два указанных ниже файлов, запись выполнена успешно.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash6.webp').default} size="70%" align="center" />
            
            10. Файл `config.txt` — это конфигурационный файл системы. См. следующую страницу для его содержимого. Измените конфигурационный файл.

        </TabItem>
    </Tabs>

## Подключение к WiFi

    1. Используйте `vscode` или другой профессиональный текстовый редактор для открытия файла `config.txt` (**лучше не использовать стандартный блокнот Windows для редактирования конфигурационных файлов**)
    <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash6.webp').default} size="70%" align="center" />

    2. В строке `WIFI_SSID=""` введите ваше **имя Wi-Fi** в поле `""`.  
       В строке `WIFI_PASS="""` введите ваш **пароль Wi-Fi** в поле `""`.
    <ImageView image={require('@site/docs/ProductDoc/SBC/fly-pi-v2/img/osfast_wifi.webp').default} size="70%" align="center" />  
  
    3. Ваш контроллер уже готов к запуску!  
    Продолжите следующий шаг: <Button variant="contained" disableElevation href="/docs/ProductDoc/SBC/fly-pi-v2/ssh">SSH-подключение к контроллеру</Button>

## Другие настройки системы

Для других настроек системы см.: <Button variant="contained" disableElevation href="/docs/DebugDoc/flyos-fast/config">Изменение конфигурации системы</Button>
