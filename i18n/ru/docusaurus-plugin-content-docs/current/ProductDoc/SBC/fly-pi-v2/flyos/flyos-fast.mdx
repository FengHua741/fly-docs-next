---
sidebar_position: 1
sidebar_label: Системная запись FLYOS-FAST
---

Рекомендуется к использованию!!! Данная система специально разработана FLY для 3D-принтеров!

# Инструкция по записи системы FLYOS-FAST

## Запись системы

Инструкция по записи системы FLYOS-FAST: <Button variant="contained" disableElevation href="/docs/DebugDoc/flyos-fast/#introduction">инструкция по записи системы FLYOS-FAST</Button>


<br/>
<br/>
<br/>


## Краткое описание системы

* FlyOS-Fast — это уменьшенная версия Linux-системы, специально адаптированная для 3D-печати, с быстрым запуском, который занимает всего 30 секунд. Поддерживает все серии плат Fly.
* Оптимизирован ядро для повышения реального времени работы Klipper.
* Оптимизирован файловая система для предотвращения повреждений системы при внезапном отключении питания.
* Предустановлены службы Klipper, RRF, Mainsail, Fluidd, Moonraker, KlipperScreen и другие.
* Поддерживается переключение между Klipper и RRF.
* Поддерживается переключение между Mainsail и Fluidd в режиме онлайн.
* Поддерживается печать с USB-накопителя.
* В сочетании с модулем KPPM можно реализовать продолжение печати после сбоя питания.
* Возможна настройка заранее установленных языков интерфейса Fluidd и имени принтера.
* Дополнительные OEM-функции: логотип при старте, предварительно установленные конфигурационные файлы, скрытие таблички Mainsail и др. — свяжитесь с нами.

## Подготовка

1. Скачайте образ системы
    - Ссылка на образ: [Скачать образ системы для Piv2](https://g-ofpa1390.coding.net/public-artifacts/3D-Printers/flyos-fast/FlyOS-Fast-H5.exe/version/50907014/overview "Щелкните ссылку для перехода") (только для Windows).  
    - Ссылка на образ: [Скачать образ системы для Piv2](https://g-ofpa1390.coding.net/public-artifacts/3D-Printers/flyos-fast/FlyOS-Fast-H5.7z/version/50907002/overview "Щелкните ссылку для перехода") (поддерживает Windows, MacOS, Linux).

    <ImageView image={require('@site/docs/ProductDoc/SBC/fly-pi-v2/img/flyos-fast_download.webp').default} size="90%" align="center" />


2. Скачайте инструмент для записи, для примера будет использоваться `Rufus`. На самом деле можно использовать другие инструменты, например, `Etcher`, `Win32 Disk Imager` и т. д.
    - Ссылка на загрузку Rufus: [Скачать на русском](https://rufus.ie/zh/#download) или [Click Download English](https://rufus.ie/en/#download) (только для Windows).
    - Ссылка на загрузку Etcher: [Скачать](https://etcher.balena.io/#download-etcher) (поддерживает Windows, MacOS, Linux).
    - Ссылка на загрузку Win32 Disk Imager: [Скачать](https://sourceforge.net/projects/win32diskimager/) (только для Windows).

3. Будем использовать для примера `FlyOS-Fast-H5.exe`.

4. Распакуйте файл образа системы, чтобы получить `.img`-файл.
    - Двойной клик или правый клик для открытия `FlyOS-Fast-H5.exe`, через несколько секунд появится окно (если система предупреждает о небезопасности, выберите «Дополнительные сведения» → «Выполнить»).
    - Можно выбрать директорию для распаковки, затем нажмите кнопку `Extract`, подождите окончания распаковки.
    
    <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/ext1.webp').default} size="60%" align="center" />

    - После завершения распаковки в директории появится файл `FlyOS-Fast-H5-vx.x.x.img`, где `x.x.x` — версия системы.

## Запись образа

    <Tabs>
        <TabItem value="TF" label="Запись на TF-карту" default>

            1. Для записи TF-карта должна быть больше 4 ГБ, рекомендуется использовать TF-карту SanDisk 32 ГБ класса 10 и выше (при тестировании выяснилось, что многие дешевые карты после записи не запускаются).
               - Для записи TF-карта должна использоваться кард-ридер SD, вставить карточку в ридер, а затем вставить ридер в компьютер.
            2. Откройте `Rufus`, выберите устройство. Выбранное устройство должно показывать объем, совпадающий с объемом записываемой карточки.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash1.webp').default} size="40%" align="center" />
    
            3. Выберите файл образа, нажмите кнопку `Выбрать` справа от `Тип загрузки`, выберите распакованный `.img`-файл.
            4. После выбора файла образа `Тип загрузки` изменится на имя файла образа.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash2.webp').default} size="40%" align="center" />
            
            5. Нажмите кнопку `Старт`, если появится окно с предупреждением о необходимости очистки диска, нажмите `ОК`.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash3.webp').default} size="50%" align="center" />
            
            6. После завершения записи компьютер издаст звуковой сигнал, и индикатор прогресса покажет `Готово`.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash4.webp').default} size="40%" align="center" />
            
            7. После завершения записи не спешите вынимать записывающую карточку.
            8. Откройте Проводник, проверьте наличие флешки или съемного устройства с именем `FlyOS-Conf`.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash5.webp').default} size="60%" align="center" />
            
            9. Откройте `FlyOS-Conf`, если существуют два указанных ниже файла, то запись выполнена успешно.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash6.webp').default} size="70%" align="center" />
            
            10. Из них `config.txt` — файл конфигурации системы, см. следующую страницу для содержимого. Отредактируйте файл конфигурации.

        </TabItem>
        <TabItem value="M2WE" label="Через USB запись на M2WE">
        
            1. Скачайте драйверы:
               - <Button variant="contained" disableElevation href="https://cdn.mellow.klipper.cn/Utils/zadig-2.7.exe">Драйверы для M2WE</Button>
               - <Button variant="contained" disableElevation href="https://cdn.mellow.klipper.cn/Utils/FLY-BOOT-Setup.msi">Инструмент запуска BOOT для M2WE</Button>

            2. Установите драйверы:
               - Откройте `Zadig`, в меню `Options` выберите пункт `List All Devices`
    
            <ImageView image={require('@site/docs/General/fly-os/img/zadig.webp').default} size="80%" align="left" />
            
            3. Установите M2WE, затем нажмите кнопку `BOOT` на материнской плате и подключите мультиплексор через двусторонний USB-кабель к компьютеру
    
            <ImageView image={require('@site/docs/ProductDoc/SBC/fly-pi-v2/img/piv2_boot1.webp').default} size="70%" align="center" />
            <ImageView image={require('@site/docs/ProductDoc/SBC/fly-pi-v2/img/piv2_boot2.webp').default} size="70%" align="center" />
    
            4. Откройте zadig
    
            <ImageView image={require('@site/docs/General/fly-os/img/zadig1.webp').default} size="80%" align="center" />
        
            5. Если все сделано правильно, в Zadig появится дополнительное устройство `Неизвестное устройство #x` или `USB Device(VID_1f3a_PID_efe8)`, выберите его
        
            <ImageView image={require('@site/docs/General/fly-os/img/zadig2.webp').default} size="80%" align="center" />
        
            6. После выбора устройства проверьте, совпадает ли USB ID с приведенным выше, если нет, повторите выбор другого устройства.
            7. Во втором месте можно выбрать только `WinUSB(vxxxxxxx)`, версия не важна.
            8. Нажмите `Установить драйвер`, установите драйвер, этот драйвер необходимо установить только один раз на одно устройство.
    
            <ImageView image={require('@site/docs/General/fly-os/img/zadig3.webp').default} size="80%" align="center" />

            9. Откройте установленный FLY-BOOT, нажмите `Проверить устройство`, если все предыдущие шаги выполнены правильно, появится сообщение об обнаружении доступного устройства.
            <ImageView image={require('@site/docs/General/fly-os/img/fly_boot1.webp').default} size="60%" align="center" />

            10. Нажмите кнопку `Запустить BOOT`, если все выполнено правильно, появится сообщение об успешном включении BOOT, подождите несколько секунд перед выполнением следующего шага.

            <ImageView image={require('@site/docs/General/fly-os/img/fly_boot2.webp').default} size="60%" align="center" />
            
            11. Откройте `Rufus`, выберите устройство. Выбранное устройство должно показывать объем, совпадающий с объемом записываемой карточки.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash1.webp').default} size="40%" align="center" />
    
            12. Выберите файл образа, нажмите кнопку `Выбрать` справа от `Тип загрузки`, выберите распакованный `.img`-файл.
            13. После выбора файла образа `Тип загрузки` изменится на имя файла образа.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash2.webp').default} size="40%" align="center" />
            
            14. Нажмите кнопку `Старт`, если появится окно с предупреждением о необходимости очистки диска, нажмите `ОК`.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash3.webp').default} size="50%" align="center" />
            
            15. После завершения записи компьютер издаст звуковой сигнал, и индикатор прогресса покажет `Готово`.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash4.webp').default} size="40%" align="center" />
            
            16. После завершения записи не спешите вынимать записывающую карточку.
            17. Откройте Проводник, проверьте наличие флешки или съемного устройства с именем `FlyOS-Conf`.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash5.webp').default} size="60%" align="center" />
            
            18. Откройте `FlyOS-Conf`, если существуют два указанных ниже файла, то запись выполнена успешно.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash6.webp').default} size="70%" align="center" />
            
            19. Из них `config.txt` — файл конфигурации системы, см. следующую страницу для содержимого. Отредактируйте файл конфигурации.

        </TabItem>
        <TabItem value="M2SD" label="Через M2SD Burner запись на M2WE или TF-карту">
            :::danger Важно
                * Этот продукт поддерживает USB 3.0.
                * Этот продукт не поддерживает одновременную установку TF и M2WE.
                * После установки M2WE или SD-карты в USB-порт компьютера можно форматировать.
                * Не устанавливайте NVMe или другие устройства, иначе это может привести к повреждению устройства!!!
            :::
            
            1. Установите M2WE или SD-карту на M2SD. Если используется TF-карта для записи, TF-карта должна быть больше 4 ГБ, рекомендуется использовать TF-карту SanDisk 32 ГБ класса 10 и выше (при тестировании выяснилось, что многие дешевые карты после записи не запускаются)
                - Установка M2WE
                <ImageView image={require('@site/docs/General/fly-os/img/m2sd/m2sd-1.webp').default} size="100%" align="left" />
                - Установка SD-карты
                <ImageView image={require('@site/docs/General/fly-os/img/m2sd/m2sd.webp').default} size="100%" align="left" />

            2. Откройте `Rufus`, выберите устройство. Выбранное устройство должно показывать объем, совпадающий с объемом записываемой карточки.  
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash1.webp').default} size="40%" align="center" />
    
            3. Выберите файл образа, нажмите кнопку `Выбрать` справа от `Тип загрузки`, выберите распакованный `.img`-файл.
            4. После выбора файла образа `Тип загрузки` изменится на имя файла образа.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash2.webp').default} size="40%" align="center" />
            
            5. Нажмите кнопку `Старт`, если появится окно с предупреждением о необходимости очистки диска, нажмите `ОК`即可.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash3.webp').default} size="50%" align="center" />
            
            6. После завершения записи компьютер издаст звуковой сигнал, и индикатор прогресса покажет `Готово`.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash4.webp').default} size="40%" align="center" />
            
            7. После завершения записи не спешите вынимать записывающую карточку.
            8. Откройте Проводник, проверьте наличие флешки или съемного устройства с именем `FlyOS-Conf`.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash5.webp').default} size="60%" align="center" />
            
            9. Откройте `FlyOS-Conf`, если существуют два указанных ниже файла, то запись выполнена успешно.
            
            <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash6.webp').default} size="70%" align="center" />
            
            10. Из них `config.txt` — файл конфигурации системы, см. следующую страницу для содержимого. Отредактируйте файл конфигурации.

        </TabItem>
    </Tabs>

## Настройка Wi-Fi

    1. Используйте `vscode` или другой профессиональный текстовый редактор для открытия `config.txt` (**лучше не использовать стандартный блокнот Windows для редактирования конфигурационных файлов**)
    <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/flash6.webp').default} size="70%" align="center" />

    2. В параметре `WIFI_SSID=""` вставьте ваше **имя Wi-Fi**  
       В параметре `WIFI_PASS="""` вставьте ваш **пароль Wi-Fi**  
       Сохраните изменения и выйдите, после этого появится флешка или съемное устройство с именем `FlyOS-Conf`.
    <ImageView image={require('@site/docs/ProductDoc/SBC/fly-pi-v2/img/osfast_wifi.webp').default} size="70%" align="center" />  

## Запуск контроллера

    1. Перед запуском убедитесь, что **карта памяти** или **M2WE** правильно установлена в контроллер
    <ImageView image={require('@site/docs/ProductDoc/SBC/fly-pi-v2/img/tf.webp').default} size="70%" align="center" />
    <ImageView image={require('@site/docs/ProductDoc/SBC/fly-pi-v2/img/m2we.webp').default} size="70%" align="center" />
  
    2. Установите антенну для модуля `M2WE` или `2.4G Wi-Fi`.
    :::warning
    * Для работы контроллера FLY необходим модуль `M2WE` или `2.4G Wi-Fi`, иначе Wi-Fi не будет работать.
    * Обратите внимание, что контроллер не поддерживает Wi-Fi с именем на китайском языке и Wi-Fi с объединением 2.4G и 5G.
    :::
    * Красная стрелка указывает на разъем антенны Wi-Fi.
    * Разъем Wi-Fi — `ipex1`.
    * Установите антенну на PI V2, иначе из-за слабого сигнала может возникнуть проблема подключения к роутеру.
    <ImageView image={require('@site/docs/ProductDoc/SBC/fly-pi-v2/img/wifi.webp').default} size="80%" align="left" /> 

    3. Подключите питание к контроллеру.  
    **Ваш контроллер уже запущен!**  
    Продолжите выполнение следующего шага: <Button variant="contained" disableElevation href="/docs/ProductDoc/SBC/fly-pi-v2/ssh">SSH-подключение к контроллеру</Button>


## Другие настройки системы

Другие настройки системы см. по ссылке: <Button variant="contained" disableElevation href="/docs/DebugDoc/flyos-fast/config">Настройка системы</Button>
