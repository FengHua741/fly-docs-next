---
sidebar_position: 11
sidebar_label: Использование I2C
---






# Использование I2C

    * Использование 40PIN интерфейса I2C на хост-компьютере
    * В данном руководстве используется датчик I2C FLY-PI V2LM75 с I2C2 в качестве примера!!!!
    * Обратите внимание, что I2C1 уже занят другим устройством и использовать его невозможно!!!!
    * Убедитесь, что соединение надежно!!!!

## Через FLY Tools открыть I2C

    * Найдите Overlays и выберите i2c2 и i2c0 в конце
    * Обратите внимание, что I2C1 уже занят другим устройством и использовать его невозможно!!!
    * Сохраните и перезагрузите

    <ImageView image={require('@site/docs/ProductDoc/SBC/fly-pi-v2/img/i2c.webp').default} size="80%" align="center" />


## Подключение и поиск

    <ImageView image={require('@site/docs/ProductDoc/SBC/fly-pi-v2/img/i2c2.webp').default} size="80%" align="center" />

    * Подключитесь к FLY-хост-компьютеру через SSH и введите следующие команды, которые выведут следующее содержимое
    * Если используется `I2C0`, замените цифру `2` в команде на `0`

    ```cfg
    sudo i2cdetect -y -r 2
    ```

    <ImageView image={require('@site/docs/ProductDoc/SBC/fly-pi-v2/img/i2c1.webp').default} size="80%" align="center" />

    * Обратите внимание, что при нормальной работе сразу после нажатия Enter появится вышеуказанное содержимое с адресом
    * Обратите внимание, что адрес является случайным
    * Обратите внимание, что если соединение не правильное, провода подключены неправильно, конфигурация не включена или модуль поврежден, вывод будет некорректным
    * Адрес необходимо перевести из шестнадцатеричной системы в десятичную и ввести после `i2c_address:` в конфигурации
    * Можно воспользоваться онлайн-конвертером для перевода систем счисления в браузере

## Настройка

    ```cfg
    [mcu host]
    serial: /tmp/klipper_host_mcu

    [temperature_sensor my_sensor]
    sensor_type: LM75
    i2c_address:72
    # #   Значение по умолчанию 72 (0x48). Обычный диапазон 72-79 (0x48-0x4F), и три
    # #   младших бита адреса настраиваются через контакты на чипе
    # #   (обычно с помощью перемычек или жесткой прокрутки).
    i2c_mcu:host
    i2c_bus:i2c.2
    # i2c_software_scl

    ```
