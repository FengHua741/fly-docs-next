---
sidebar_position: 11
sidebar_label: Использование I2C
---






# Использование I2C

    * Использование 40-пинового интерфейса I2C на ПК
    * В данном уроке используется датчик I2C FLY-PI V2LM75 с I2C2 в качестве примера!!!!
    * Обратите внимание, что I2C1 уже занят другим устройством и использовать его нельзя!!!!
    * Убедитесь, что соединение надежное!!!!

## Открытие I2C через FLY Tools

    * Найдите Overlays и выберите за ним i2c2 и i2c0
    * Обратите внимание, что I2C1 уже занят другим устройством и использовать его нельзя!!!
    * Сохраните и перезагрузите

    <ImageView image={require('@site/docs/ProductDoc/SBC/fly-pi-v2/img/i2c.webp').default} size="80%" align="center" />


## Подключение и поиск
    * В данном уроке используется PI V2 как ссылка
    <ImageView image={require('@site/docs/ProductDoc/SBC/fly-pi-v2/img/i2c2.webp').default} size="80%" align="center" />

    * После подключения к FLY-компьютеру по SSH введите следующую команду, которая выведет следующее содержимое
    * Если используется `I2C0`, замените в нижеследующей команде `2` на `0`

    ```cfg
    sudo i2cdetect -y -r 2
    ```

<ImageView image={require('@site/docs/ProductDoc/SBC/fly-pi-v2/img/i2c1.webp').default} size="80%" align="center" />

    * Обратите внимание, что если всё нормально, сразу после нажатия Enter появится вышеуказанное содержимое с адресом
    * Обратите внимание, что адрес является случайным
    * Обратите внимание, что если соединение выполнено неправильно, соединение выполнено в обратном порядке, конфигурация не включена или модуль поврежден, вывод будет ненормальным
    * Адрес нужно перевести из шестнадцатеричной системы в десятичную и заполнить в конфигурации после `i2c_address:`
    * Можно воспользоваться онлайн-конвертером для перевода чисел в интернете

## Настройка

    ```cfg
    [mcu host]
    serial: /tmp/klipper_host_mcu

    [temperature_sensor my_sensor]
    sensor_type: LM75
    i2c_address:72
    # #   Значение по умолчанию — 72 (0x48). Обычный диапазон — 72–79 (0x48–0x4F), и три
    # #   младших бита адреса настраиваются через выводы на чипе
    # #   (обычно с помощью перемычек или жесткой прокладки).
    i2c_mcu:host
    i2c_bus:i2c.2
    # i2c_software_scl

    ```
