---
sidebar_position: 8
---

# Настройка статического IP

## Использование и функции статического IP


1. **Обеспечение фиксированного доступа к устройству**  
   Статический IP позволяет устройству всегда иметь одинаковый IP-адрес, что упрощает удаленный доступ, связь и управление (например, веб-серверы, MQTT, PLC и т. д.).

2. **Удобство настройки и управления сетью**  
   В локальной или промышленной сети устройства, такие как камеры, датчики, контроллеры и другие, должны иметь фиксированный IP-адрес для правильного подключения других систем.

3. **Избежание зависимости от сервера DHCP**  
   Некоторые встроенные системы разворачиваются в средах без DHCP-сервиса (например, промышленные системы, краевые вычисления), поэтому использование статического IP необходимо для нормального функционирования.

4. **Упрощение процесса отладки и тестирования**  
   Во время разработки и отладки фиксированный IP-адрес делает легче определить устройство и повторно подключиться.

5. **Поддержка механизма обнаружения устройств**  
   Некоторые системы через заранее установленный диапазон IP-адресов подключаются к устройствам, статический IP гарантирует их реакцию по требованию.

    | Преимущества | Описание |
    |--------------|----------|
    | ✅ **Стабильность и надежность** | IP-адрес не изменяется, что обеспечивает более стабильное соединение, подходящее для длительной работы устройств. |
    | ✅ **Подходит для сред без графического интерфейса** | Встраиваемые устройства обычно не имеют рабочего стола, настройка статического IP позволяет избежать необходимости ручного подключения и поиска. |
    | ✅ **Легкость удаленного управления и обслуживания** | Через SSH, веб-интерфейсы, API и другие способы подключение к устройству становится более эффективным с фиксированным IP-адресом. |
    | ✅ **Удобство развертывания в закрытой сети** | В промышленных или специализированных сетях часто нет DHCP, поэтому необходимо использовать статический IP. |
    | ✅ **Совместимость с автоматизированными скриптами** | Различные автоматические развертывание, мониторинг или обновления скрипты могут полагаться на постоянство IP-адреса для выполнения своих функций. |

## Настройка системы

:::tip

- Обратите внимание на IP-адрес: материнская плата и ПК не рекомендуется использовать `0`, `1`, `254`, `255` и другие близкие к максимальным и минимальным IP-адресам. Например, использование 192.168.1.254 может быть перехвачено другими системными приложениями, что приведет к периодическим разрывам соединения.

:::

1. Подключитесь к системе через SSH-терминал.
2. Выполните команду `ip link show`, чтобы просмотреть имя сетевой карты устройства, например, `eth0`, `end0`.

<ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/staticip1.webp').default} size="60%" align="center" />

3. Выполните команду `nano /etc/systemd/network/end0.network`, чтобы отредактировать конфигурационный файл, имя файла должно совпадать с именем сетевой карты.
4. После открытия файла вы увидите, что по умолчанию включен DHCP-сервис, его нужно заменить на статический IP.

<ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/staticip2.webp').default} size="60%" align="center" />

5. Измените файл на следующее, указав фактический IP-адрес и шлюз:

    ```ini
    [Match]
    # Совместимость с сетевой картой end0
    Name=end0

    [Network]
    # Установка статического IP-адреса, /24 означает маску подсети 255.255.255.0
    Address=192.168.1.100/24
    # Установка адреса шлюза
    Gateway=192.168.1.1
    # Установка DNS-сервера
    DNS=8.8.8.8
    ```

<ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/staticip3.webp').default} size="60%" align="center" />

6. Нажмите `CTRL + S`, чтобы сохранить файл, затем `CTRL + X` для выхода, после чего выполните команду `systemctl restart systemd-networkd` для перезапуска службы сети.

7. Проверьте успешность настройки. После подключения кабеля выполните команду `ip a`. Если результат выглядит так, как показано ниже, настройка выполнена успешно.

<ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/staticip4.webp').default} size="60%" align="center" />

## Настройка ПК

- Если компьютер должен подключиться к материнской плате с настроенным статическим IP, используйте следующие параметры:
- Локальный IP: `192.168.1.xxx`, достаточно, чтобы находиться в одной подсети с IP материнской платы.
- Шлюз: `192.168.1.1`, должен совпадать с настройкой материнской платы.
- Маска подсети: `255.255.255.0`, так как материнская плата имеет /24, маска подсети всегда фиксирована и является стандартной для многих систем.
- DNS-сервер: `8.8.8.8`, `114.114.114.144` и другие распространенные варианты.
