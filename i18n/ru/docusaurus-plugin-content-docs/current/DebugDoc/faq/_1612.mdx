## Как настроить z—offset
* Первый шаг: Используйте pursa/OrcaSlicer/cura/Bambu Studio для нарезки 200x200 квадрата высотой 0.2 мм для настройки z—offset
* Второй шаг: Через IP принтера войдите в `fluidd` `mainsail`, найдите на панели управления `Движение и контроль`, отрегулируйте z_OFFset и запомните значение
<ImageView image={require('@site/docs/DebugDoc/faq/img/Zoff.webp').default} size="80%" align="left" />
* Третий шаг: Перезапустите klippper с помощью следующей команды
```bash
FIRMWARE_RESTART
```
* Четвертый шаг: Отрегулируйте Z—offset через UI интерфейс с помощью следующих команд, введите значение, которое вы настроили во время печати
```bash
G28
PROBE_EDDY_CURRENT_CALIBRATE CHIP=fly_eddy_probe
```
<ImageView image={require('@site/docs/DebugDoc/faq/img/UI.webp').default} size="50%" align="left" />

:::info
* Если появляется ошибка `Eddy current sensor error`, увеличьте значение z_offset в конфигурации eddy, смотрите пример

<ImageView image={require('@site/docs/DebugDoc/faq/img/EDDYZOFF.webp').default} size="50%" align="left" />
:::

## Инструкции по эксплуатации

    :::warning Внимание

    * Обязательно выполните калибровку тока перед калибровкой частоты катушки
    * Машины с несколькими осями Z требуют ручного выравнивания один раз, после всех калибровок выполните выравнивание еще раз, затем снова калибруйте
    * Версия прошивки нижнего уровня должна полностью соответствовать версии Kliiper

    :::

    :::info

    * Обязательно выполните калибровку тока перед калибровкой частоты катушки
    * Машины с несколькими осями Z требуют ручного выравнивания один раз, после всех калибровок выполните выравнивание еще раз, затем снова калибруйте
    * Версия прошивки нижнего уровня должна полностью соответствовать версии Kliiper

    :::

    * Добавьте конфигурацию ниже через веб-интерфейс `FUIDD`, затем выполните следующие шаги
        ```cfg
        [force_move]
        enable_force_move: true
        ```

    ### Шаг первый: Калибровка тока EDDY

        * 1: Введите следующую команду в консоль
            ```bash
            SET_KINEMATIC_POSITION z=80
            ```
        * 2: Верните X и Y в исходное положение, переместите инструмент в центр платформы
            ```bash
            G28 X Y
            ```
        * После завершения вышеуказанных шагов, необходимо откалибровать ток Eddy, сначала переместите Eddy в центр платформы, затем сопло только коснется платформы. Затем выполните следующую команду в консоли для автоматического получения тока, затем сохраните параметры с помощью `SAVE_CONFIG`. Нормальное значение обратной связи около 15, если значение 0 или 30, проверьте подключение (плохой контакт)
            ```bash
            LDC_CALIBRATE_DRIVE_CURRENT CHIP=fly_eddy_probe
            ```
        * Нормальное значение обратной связи должно быть около `15`
        * После калибровки сохраните параметры с помощью `SAVE_CONFIG`

    ### Шаг второй: Калибровка частоты Eddy

        :::info

        * При установке Eddy, его нижняя часть должна находиться над соплом на 1-2 мм
        * При калибровке частоты Eddy, катушка PCB должна быть удалена от платформы минимум на 5 мм

        :::

        * Затем переместите сопло в центр платформы (Обратите внимание: на этом этапе убедитесь, что машина не загружает heightmap)
        * Начните ручную калибровку z смещения [Тест бумагой](https://www.klipper3d.org/Bed_Level.html#the-paper-test)
            ```bash
            PROBE_EDDY_CURRENT_CALIBRATE CHIP=fly_eddy_probe
            ```
        * После завершения калибровки сохраните параметры с помощью `SAVE_CONFIG`
        :::info
        * Принтеры с функциями `z_tilt` или `quad_gantry_level（QGL）` сначала отрегулируйте параллельность `i3 настройте параллельность оси X, трезубец настройте параллельность платформы, Voron 2.4 настройте параллельность портала, затем снова откалибруйте частоту Eddy
        :::
    ### Шаг третий: Компенсация температуры

        * Верните все оси в исходное положение
       ```bash
       G28
       ```

        * Если есть `[quad_gantry_level]` или `[z_tilt]`, сначала выполните `Z_TILT_ADJUST` или `QUAD_GANTRY_LEVEL`, затем вернитесь в исходное положение еще раз
        * Введите в консоль G0 Z5 или через веб-интерфейс переместите ось Z на 5 мм над платформой
        * Выполните следующую команду, чтобы установить тайм-аут простоя дольше, чтобы избежать тайм-аута во время нагрева
            ```bash
            SET_IDLE_TIMEOUT TIMEOUT=65000
            ```
        * Выполните следующую команду для начала калибровки
            ```bash
            TEMPERATURE_PROBE_CALIBRATE PROBE=fly_eddy_probe TARGET=56 STEP=4
            ```
        :::warning Внимание

        * Подсказка: В вышеуказанной команде целевая температура EDDy установлена на `56℃`, что подходит для большинства устройств.
        * Если фактическая температура камеры вашего 3D принтера выше, вы можете соответственно увеличить целевую температуру.
        * Обратите внимание, что чем выше целевая температура, тем больше времени потребуется на калибровку, так как Eddy нужно больше времени для достижения температурного баланса.

        :::
    
        1. После выполнения этой операции на UI появится окно регулировки оси Z. Используйте вышеупомянутый метод ручной калибровки смещения Z (Paper Test), зажмите бумагу между соплом и платформой, затем подтвердите значение.
        2. После подтверждения значения, установите температуру платформы на максимум, температуру сопла на 220℃.
        3. Если вы находитесь в комнате с кондиционером или открытым окном, рекомендуется закрыть кондиционер или окно, чтобы обеспечить повышение температуры Eddy, так как ветер может влиять на нагрев.
        4. По мере повышения температуры Eddy, система будет автоматически просить вас выполнить ручную калибровку смещения Z каждые 4℃. Платформа будет очень горячей, будьте осторожны, чтобы не обжечься!
        5. Повторяйте ручную калибровку смещения Z (Paper Test), пока калибровка не будет завершена. Если вы заметите, что температура Eddy больше не повышается, вы можете использовать следующие команды для досрочного завершения калибровки.
        
        * Дополнительные gcode команды, доступные во время калибровки дрейфа: TEMPERATURE_PROBE_NEXT
            * `TEMPERATURE_PROBE_NEXT`    Используется для принудительной выборки новых данных Eddy до достижения целевой температуры `56℃`.
            * `TEMPERATURE_PROBE_COMPLETE`    Используется для завершения калибровки, если Eddy не достигает установленной температуры `56℃`.
            * `ABORT`  Используется для прекращения калибровки и игнорирования результатов.
        * После выполнения этих шагов, Eddy сможет обеспечивать отличный первый слой печати в широком диапазоне температур!