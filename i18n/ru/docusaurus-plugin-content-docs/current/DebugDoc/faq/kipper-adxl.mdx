---
sidebar_position: 5
sidebar_label: Использование акселерометра
---



## Установка зависимостей

:::tip
Рекомендуется использовать инструмент SSH, такой как `MobaXterm_Personal`.
:::

:::tip
В верхнем компьютере FLY не требуется выполнение команд, так как пакеты для акселерометра уже включены.
:::

    * Пожалуйста, последовательно выполните следующие команды для установки пакетов
    * Обратите внимание, что время установки может занимать много времени (до 10-20 минут), в зависимости от производительности процессора. Пожалуйста, подождите, пока установка завершится. В некоторых случаях, если оперативная память материнской платы слишком мала, установка может завершиться неудачей.

        ```bash
        sudo apt install python3-numpy python3-matplotlib libatlas-base-dev
        ```

        ```bash
        ~/klippy-env/bin/pip install matplotlib numpy
        ```

## Тестирование акселерометра

    * Сначала необходимо вернуть на исходное положение перед выполнением
    * В консоли выполните команду `ACCELEROMETER_QUERY`
    * Для нескольких акселерометров можно указать конкретный для тестирования командой `ACCELEROMETER_QUERY CHIP=<ADXL>`, где `<ADXL>` нужно заменить на соответствующее имя акселерометра
    * Если возникают ошибки, проверьте соединения и конфигурацию
    * Нормальный вывод выглядит так:
        <ImageView image={require('@site/docs/DebugDoc/faq/img/adxl_1.webp').default} size="80%" align="center" />
    * После этого можно приступить к измерению резонансной компенсации


## Калибровка акселерометра

    * Вернуть на исходное положение
    * В консоли введите команду `SHAPER_CALIBRATE`, после чего начнется автоматическая калибровка по осям X и Y
    * По окончании калибровки выполните команду `SAVE_CONFIG`, чтобы сохранить данные
    * Также можно использовать команду `SHAPER_CALIBRATE AXIS=X`, чтобы автоматически откалибровать одну ось
    * Процесс калибровки может занять длительное время, пожалуйста, проявите терпение

:::tip
Внимание! Если во время тестирования принтер сильно вибрирует, нажмите аварийную остановку или отправьте команду `M112`, чтобы остановить работу.
:::


    * Высокое значение accel_per_hz может вызвать сильные вибрации, можно понизить его значение

        ```cfg
        [resonance_tester]
        accel_per_hz: 50  # Значение по умолчанию 75
        ```
