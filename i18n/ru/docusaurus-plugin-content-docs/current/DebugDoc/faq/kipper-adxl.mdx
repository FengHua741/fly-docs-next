---
sidebar_position: 5
sidebar_label: Использование акселерометра
---



## Установка зависимых пакетов

:::warning
- Для FLY-ПО не требуется выполнение, так как встроены зависимости для акселерометра.
- **Для не-FLY-ПО обязательно выполните эту процедуру!** Рекомендуется использовать инструменты SSH, такие как `MobaXterm_Personal`.
:::

    * Пожалуйста, последовательно выполните команды ниже для установки зависимых пакетов.
    * Обратите внимание, что процесс может занять много времени (до 10-20 минут) в зависимости от производительности процессора. Пожалуйста, подождите окончания установки. В некоторых случаях при недостаточном объеме оперативной памяти на материнской плате установка может завершиться неудачей.

        ```bash
        sudo apt install python3-numpy python3-matplotlib libatlas-base-dev
        ```

        ```bash
        ~/klippy-env/bin/pip install matplotlib numpy
        ```

## Тестирование акселерометра

    * Сначала необходимо вернуться в исходное положение перед выполнением.
    * В консоли выполните команду `ACCELEROMETER_QUERY`.
    * Для нескольких акселерометров можно указать конкретный для тестирования с помощью `ACCELEROMETER_QUERY CHIP=<ADXL>`, где `<ADXL>` должен быть заменен на соответствующее имя акселерометра.
    * При возникновении ошибок проверьте подключение и настройки.
    * Нормальный вывод выглядит следующим образом:
        <ImageView image={require('@site/docs/DebugDoc/faq/img/adxl_1.webp').default} size="80%" align="center" />
    * После этого можно приступать к измерению для компенсации резонанса.


## Калибровка акселерометра

    * Вернуться в исходное положение.
    * В консоли введите `SHAPER_CALIBRATE`, после чего начнется автоматическая калибровка по осям X и Y.
    * По завершении калибровки выполните `SAVE_CONFIG`, чтобы сохранить данные.
    * Также можно использовать `SHAPER_CALIBRATE AXIS=X` для автоматической калибровки одной оси.
    * Процесс калибровки может занять длительное время, проявите терпение.

:::tip
Внимание! Если во время тестирования принтер будет сильно вибрировать, немедленно нажмите аварийную остановку или отправьте команду `M112` для остановки.
:::

    * Высокое значение `accel_per_hz` может вызвать сильные вибрации, его можно уменьшить.

        ```cfg
        [resonance_tester]
        accel_per_hz: 50  # Значение по умолчанию — 75
        ```
