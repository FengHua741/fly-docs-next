:::astuce
    * Lors de l'installation du plug-in de gravure, veillez à être connecté à Internet. Assurez-vous que votre ordinateur de contrôle est correctement connecté à Internet.
    * Si vous avez déjà installé, il n'est pas nécessaire de réinstaller.
:::


### Démarrer la gravure

    :::avertissement Avertissement
       * **Non-Fly PC** : Veuillez impérativement exécuter le code ci-dessous pour installer les paquets de dépendances nécessaires à la gravure du firmware ! Sinon, le firmware ne pourra pas être gravé !
       ```
      cd && git clone https://github.com/Arksine/katapult.git
       ```
      <ImageView image={require('@site/docs/General/dfu-flash/img/get_katapult.webp').default} size="80%" align="center" />
    :::
    * Utilisez la commande ci-dessous pour rechercher l'ID de votre appareil, un ID similaire à celui de l'image ci-dessous doit apparaître (remarque : l'ID de l'image est fourni à titre indicatif, chaque carte mère a un ID différent)

        ```bash
        ls /dev/serial/by-id/*
        ```
        <ImageView image={require('@site/docs/General/dfu-flash/img/2040.webp').default} size="80%" align="center" />


    * Pour graver le firmware, utilisez la commande ci-dessous. Assurez-vous d'avoir compilé le firmware avec succès, et remplacez `<votre ID de carte mère>` par l'ID trouvé à l'étape précédente.

        ```bash
        ~/klippy-env/bin/python ~/katapult/scripts/flashtool.py -d /dev/serial/by-id/<votre ID de carte mère>
        ```

    * Voici une référence
        <ImageView image={require('@site/docs/General/dfu-flash/img/kaulut7.webp').default} size="100%" align="center" />

    * Référence après la gravure
        <ImageView image={require('@site/docs/General/dfu-flash/img/katapult3.webp').default} size="100%" align="center" />

## Mise à jour du firmware

<Tabs>
    <TabItem value="w" label="Mise à jour du firmware USB" default>
        * Utilisez la commande ci-dessous pour rechercher l'ID de votre carte mère, un ID similaire à celui de l'image ci-dessous doit apparaître (remarque : l'ID de l'image est fourni à titre indicatif, chaque carte mère a un ID différent)

        ```bash
        ls /dev/serial/by-id/*
        ```

        :::astuce Remarque
            Dans l'image ci-dessous, `/dev/serial/by-id/usb-katapult_rp2040_E662549553642032-if00` est l'ID de la carte mère.
        :::

        <ImageView image={require('@site/docs/General/dfu-flash/img/2040.webp').default} size="80%" align="center" />

        * Pour mettre à jour le firmware USB, vous devez compiler le dernier firmware et entrer la commande suivante, en remplaçant `<votre ID de carte mère>` par l'ID trouvé à l'étape précédente.

        ```bash
        cd ~/klipper/ && make flash FLASH_DEVICE=<votre ID de carte mère>
        ```

        <ImageView image={require('@site/docs/General/dfu-flash/img/katapult5.webp').default} size="100%" align="center" />
    </TabItem>
</Tabs> 

## Méthode de résolution en cas d'erreur de gravure

    * Éteignez la carte mère, rallumez-la, puis cliquez deux fois rapidement sur le bouton de redémarrage de la carte mère.
    * Ou utilisez WINDOWS pour effacer le firmware et reflasher BL
