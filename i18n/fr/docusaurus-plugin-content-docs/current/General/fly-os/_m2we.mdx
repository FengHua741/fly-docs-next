import FALSH from '@site/i18n/fr/docusaurus-plugin-content-docs/current/General/fly-os/_falsh.mdx';

# Installation du système sur M2WE via USB

### Préparation

### Préparation

    * Installez d'abord le logiciel `SDFormatter` et `Rufus`
    <Button variant="contained" disableElevation component="a" rel="noopener" href="/docs/ResDownload/auxiliary_software/">Outils de formatage</Button>
    * Téléchargez le pilote de démarrage M2WE
    * Décompressez le système, après décompression le fichier aura une extension `.img`
    * Il est déconseillé d'utiliser `balenaetcher` ou `Raspberry Pi` pour l'écriture du système
    * Insérez M2WE ou la carte SD dans M2SD, puis connectez M2SD à l'ordinateur via USB
    * Si M2WE contient des données, veillez à les sauvegarder


### Installation du pilote

    * Ouvrez le logiciel `Zadig`
    * Sauf pour le premier `Zadig`, qui peut être exécuté directement sans installation, les deux autres nécessitent une installation. Passez toutes les étapes en cliquant sur `Suivant` ou `Next`
    * Ouvrez `Zadig`, cochez `List All Devices` dans le menu déroulant `Options` en haut

    <ImageView image={require('@site/docs/General/fly-os/img/zadig.webp').default} size="80%" align="left" />

:::tip
Assurez-vous que l'appareil est connecté au PC en maintenant la touche BOOT enfoncée
:::

    * Installez correctement M2WE, maintenez la touche BOOT enfoncée et connectez le câble USB double tête au PC

    <ImageView image={require('@site/docs/General/fly-os/img/usb-boot.webp').default} size="80%" align="center" />
            <Tabs>
                <TabItem value="c8" label="FLY-C8" default>
                    * Port FLY-C8

                    <ImageView image={require('@site/docs/General/fly-os/img/c8-boot.webp').default} size="80%" align="center" />
                </TabItem>
                <TabItem value="piv2" label="FLY-Pi v2" default>
                    * Port FLY-Pi v2

                    <ImageView image={require('@site/docs/General/fly-os/img/piv2-boot.webp').default} size="80%" align="center" />
                </TabItem>
                <TabItem value="piv1" label="FLY-Pi(π)" default>
                    * Port FLY-Pi

                    <ImageView image={require('@site/docs/General/fly-os/img/pi-boot.webp').default} size="80%" align="center" />
                </TabItem>
                <TabItem value="gemini" label="FLY-Gemini" default>
                    * Port FLY-Gemini

                    <ImageView image={require('@site/docs/General/fly-os/img/pi-boot.webp').default} size="80%" align="center" />

                </TabItem>
            </Tabs>

    * Ouvrez zadig

    <ImageView image={require('@site/docs/General/fly-os/img/zadig1.webp').default} size="80%" align="left" />

    * Si tout se passe bien, un nouveau périphérique `Périphérique Inconnu #x` ou `USB Device(VID_1f3a_PID_efe8)` apparaîtra dans zadig, sélectionnez-le

    <ImageView image={require('@site/docs/General/fly-os/img/zadig2.webp').default} size="80%" align="left" />

    * Après avoir sélectionné le périphérique, vérifiez que l'ID USB correspond à celui de l'image ci-dessus. Si ce n'est pas le cas, choisissez un autre périphérique
    * La deuxième zone de l'image ne peut choisir que `WinUSB(vxxxxxxx)`, la version du pilote n'a pas d'importance
    * Cliquez sur `Installer le Pilote` pour installer le pilote

    <ImageView image={require('@site/docs/General/fly-os/img/zadig3.webp').default} size="80%" align="left" />
:::tip
    * Le pilote USB a été installé avec succès (le pilote n'a besoin d'être installé qu'une seule fois, si vous réinstallez par la suite, il n'est pas nécessaire de réinstaller)
    * Ouvrez le FLY-BOOT installé, cliquez sur `Vérifier le Périphérique`
    * Si les étapes précédentes ont été effectuées correctement, un message apparaîtra indiquant que le périphérique est disponible
    * Cliquez sur `Démarrer BOOT`, s'il fonctionne correctement, un message indiquera que BOOT a été activé avec succès
:::
### Formatage de M2WE

    * Utilisez le logiciel `TFFormatter.exe` pour formater le disque `BOOT`

    <ImageView image={require('@site/docs/General/fly-os/img/sdformatter.webp').default} size="80%" align="left" />

    * Ou utilisez la gestion de disque intégrée de Windows pour supprimer la partition, puis recréer la partition
    * Vous pouvez maintenant ouvrir l'Explorateur de fichiers, vous verrez une clé USB de 14,5 Go (la taille affichée d'une eMMC de 16 Go est de 14,5 Go)
    * Vous pouvez maintenant utiliser Win32diskimager pour graver l'image système, sélectionnez cette clé USB de 14,5 Go


### Écriture du système sur M2WE

<FALSH />
