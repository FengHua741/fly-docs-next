---
sidebar_position: 3
---

# Configuration système

## Avertissement important
    :::astuce À lire obligatoirement

    - Les paramètres dans la section `partie` du fichier de configuration ne seront actifs qu'au premier démarrage après gravure.
    - Ce tutoriel n'indique que les options modifiables.

    :::

    :::avertissement Attention

    - Essayez d'utiliser les pages web `mainsail` ou `fluidd` pour modifier les configurations.
    - Ne pas ouvrir de traduction sur une page web, sinon le système risque de ne pas démarrer après la sauvegarde.
    - Essayez de ne pas utiliser de caractères chinois ou spéciaux dans le fichier de configuration.
    - Une fois les modifications effectuées dans le fichier de configuration, il est nécessaire de redémarrer le système pour que celles-ci soient prises en compte.

    :::

    :::danger

    - Le contenu sous la section `######### PLEASE DO NOT EDIT THE FOLLOWING #########` dans le fichier de configuration ne doit pas être modifié.

    :::

## Comment modifier le fichier de configuration

### Modification du fichier de configuration après la gravure

- Les paramètres qui ne sont actifs qu'au premier démarrage doivent être modifiés après la gravure en utilisant un éditeur de texte professionnel pour ouvrir le fichier de configuration `config.txt` présent dans le disque amovible `FlyOS-Conf`.

### Modification en ligne après le démarrage du système

- Si c'est une configuration normale, il suffit de modifier la configuration dans l'interface web du système et de redémarrer le système pour que cela prenne effet.
    - Ouvrez le navigateur à l'adresse IP de l'appareil, par exemple : `http://192.168.1.2/`
    - Dans fluidd, décochez comme indiqué à gauche `-> Filtrer et masquer les fichiers et dossiers cachés`.
    - Dans mainsail, cochez comme indiqué à droite `-> Afficher les fichiers cachés`.
    
    <table>
      <tr>
        <td>
          <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/config1.webp').default} size="100%" align="center" />
        </td>
        <td>
          <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/config2.webp').default} size="85%" align="center" />
        </td>
      </tr>
    </table>

    - Vous verrez alors le dossier `.flyos-config`. Entrez dans ce dossier pour trouver le fichier `sys-config.conf`.
    - Le fichier `sys-config.conf` est un lien symbolique du fichier de configuration `config.txt` du disque amovible `FlyOS-Conf`.

    <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/config3.webp').default} size="60%" align="center" />

    - Ouvrez le fichier `sys-config.conf`, modifiez les paramètres nécessaires, puis enregistrez et fermez le fichier.
    
    <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/config4.webp').default} size="60%" align="center" />

    - Remarque : Le format des paramètres dans le fichier `sys-config.conf` est `clé=valeur`, ne pas modifier en `clé: valeur`.
    - Après avoir enregistré les modifications, redémarrez le système pour que celles-ci prennent effet.

## Paramètres de configuration

### Configuration réseau sans fil

- Les paramètres suivants prendront effet à chaque démarrage du système.

| Paramètre | Valeur par défaut | Valeurs possibles | Description |
| :---: | :---: | :--- | :--- |
| `WIFI_SSID` | `vide` | N'importe quel nom de réseau Wi-Fi | Nom du réseau Wi-Fi, si renseigné, le système essaiera de se connecter automatiquement à ce réseau au démarrage. |
| `WIFI_PASS` | `vide` | Laisser vide si aucun mot de passe | Mot de passe du réseau Wi-Fi, si renseigné, le système tentera de se connecter avec ce mot de passe. |

----

### Configuration par défaut de l'imprimante

:::astuce
- Les paramètres suivants ne seront actifs qu'au premier démarrage.
:::

| Paramètre | Valeur par défaut | Valeurs possibles | Description |
| :---: | :---: | :--- | :--- |
| `language` | `zh-CN` | <details><summary>Cliquez pour afficher les détails</summary>`zh-CN`, `zh-HK`, `en`, `de`, `cz`, `es`, `hu`, `ja`, `nl`, `pt`, `se`, `uk`, `da`, `fr`, `it`, `ko`, `pl`, `ru`, `tr`</details> | Définir la langue par défaut pour fluidd et mainsail lors du premier démarrage. |
| `printer_name` | `vide` | N'importe quelle chaîne de caractères | Définir le nom par défaut de l'imprimante pour fluidd et mainsail lors du premier démarrage. |

----

### Configuration système

- Les paramètres suivants prendront effet à chaque démarrage du système.

| Paramètre | Valeur par défaut | Valeurs possibles | Description |
| :---: | :-------: | :--- | :--- |
| `console` | `serial` | `serial`, `both` | Ce paramètre ne doit pas être modifié, seul `serial` est valide. |
| `board` | H5: `fly-pi-v2`<br/>H3: `fly-lite2.1` | <details><summary>Cliquez pour afficher H5 series</summary>`fly-pi`, `fly-pi-v2`, `fly-gemini-v1`, `fly-gemini-v2`, `fly-gemini-v3`, `fly-c8`</details><br/><details><summary>Cliquez pour afficher H3 series</summary>`fly-lite2`, `fly-lite2.1`, `fly-minipad`</details> | Modèle de carte mère, utilisé principalement pour l'automatisation de l'écriture des firmwares. |
| `shutdown_pin_state` | `1` | `0`, `1` | Configurer l'état du niveau de la broche de mise hors tension.<br/>1: basculé à bas niveau.<br/>0: basculé à haut niveau. |
| `shutdown_pin` | `none` | `PA21`, `PA4`... | Configurer la broche de déclenchement de la mise hors tension, `none` par défaut, non activée. |
| `spidev` | `spidev0.0 spidev1.0` | `spidev0.0`, `spidev0.1`, `spidev1.0`, `spidev1.1` | Configurer les ports SPI à activer.<br/>Pour plusieurs ports, séparez-les par un espace. |
| `localtime` | `Asia/Shanghai` | [Table des fuseaux horaires mondiaux](/docs/DebugDoc/flyos-fast/timezone) | Configurer le fuseau horaire par défaut du système, le système synchronisera l'heure automatiquement après la connexion à Internet. |
| `canbus_bitrate` | `1000000` | `1000000`, `500000`, `250000` | Configurer le débit par défaut pour tous les appareils CAN du système, valeur par défaut 1M. |

----

### Configuration du type d'imprimante

- Les paramètres suivants prendront effet à chaque démarrage du système.

| Paramètre | Valeur par défaut | Valeurs possibles | Description |
| :---: | :-------: | :--- | :--- |
| `printer` | `klipper` | `klipper`, `rrf` | Configurer le service à démarrer lors du démarrage du système.<br/>`klipper`: services klipper, moonraker, etc.<br/>`rrf`: services RRF DSF, DWC, etc. |

### Configuration d'affichage

- Les paramètres suivants prendront effet à chaque démarrage du système.

| Paramètre | Valeur par défaut | Valeurs possibles | Description |
| :---: | :-------: | :--- | :--- |
| `screen` | `hdmi` | <details><summary>Cliquez pour afficher H5 series</summary>`none`, `hdmi`, `fly-tft-v1`, `fly-tft-v2-r`, `fly-tft-v2-c`</details><br/><details><summary>Cliquez pour afficher H3 series</summary>`none`, `hdmi`, `fly-tft-v1`, `fly-minipad-r`, `fly-minipad-c`, `fly-tft-v2-r`, `fly-tft-v2-c`</details> | Configurer l'écran, `none` pour désactiver tous les écrans. |
| `rotate` | `90` | `0`, `90`, `180`, `270` | Configurer l'angle de rotation pour FLY-TFT, inutile pour HDMI. |

----

### Configuration liée à Klipper

- Les paramètres suivants prendront effet à chaque démarrage du système.

| Paramètre | Valeur par défaut | Valeurs possibles | Description |
| :---: | :-------: | :--- | :--- |
| `klipper_screen` | `0` | `0`, `1` | Configurer l'activation de KlipperScreen.<br/>1: Activer.<br/>0: Désactiver.<br/>Valable uniquement si `printer=klipper`. |
| `moon2uart` | `0` | `0`, `1` | Configurer l'activation de moon2uart.<br/>1: Activer.<br/>0: Désactiver.<br/>Valable uniquement si `printer=klipper`. |
| `m2u_port` | `/dev/ttyS1` | Ports série valides | Port série pour moon2uart, valable uniquement si `moon2uart=1`. |
| `m2u_baud` | `115200` | Baudrates valides | Taux de transmission pour moon2uart, valable uniquement si `moon2uart=1`. |
| `klipper_webui` | `fluidd` | `fluidd`, `mainsail` | Configurer l'interface utilisateur frontale par défaut pour Klipper.<br/>N'influe pas sur la fonctionnalité de basculement en un clic en ligne.<br/>Valable uniquement si `printer=klipper`. |

----

### Configuration liée à RRF

- Les paramètres suivants prendront effet à chaque démarrage du système.

| Paramètre | Valeur par défaut | Valeurs possibles | Description |
| :---: | :-------: | :--- | :--- |
| `rrf2uart` | `0` | `0`, `1` | Temporairement non pris en charge, sera mis à jour dans une version ultérieure. |

----

### Autres paramètres

- Les paramètres suivants prendront effet à chaque démarrage du système.

| Paramètre | Valeur par défaut | Valeurs possibles | Description |
| :---: | :-------: | :--- | :--- |
| `crowsnest` | `0` | `0`, `1` | Configurer l'activation de Crowsnest.<br/>1: Activer.<br/>0: Désactiver.<br/>Valable pour les modes Klipper et RRF. |

:::astuce
- Les paramètres suivants ne seront actifs qu'au premier démarrage.
:::

| Paramètre | Valeur par défaut | Valeurs possibles | Description |
| :---: | :-------: | :--- | :--- |
| `firmware` | `vide` | Chemins valides vers les fichiers de firmware | Configurer le firmware à flasher automatiquement au démarrage, actuellement valable uniquement pour C8 et Gemini-V3. |

----

:::danger

- Le contenu sous la section `######### PLEASE DO NOT EDIT THE FOLLOWING #########` dans le fichier de configuration ne doit pas être modifié.

:::
