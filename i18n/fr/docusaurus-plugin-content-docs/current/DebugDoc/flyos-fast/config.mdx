---
sidebar_position: 3
---

# Configuration du système

:::tip À lire obligatoirement

- Les paramètres dans la section `partie` du fichier de configuration ne prendront effet qu'à la première démarrée après le flashage.
- Veuillez donc modifier le fichier de configuration config.txt sur la disque amovible `FlyOS-Conf` après le flashage.
- Ensuite, insérez la carte dans le panneau pour démarrer le système.

:::

:::warning Attention

- Essayez d'éviter d'utiliser le Bloc-notes intégré à Windows pour éditer le fichier de configuration, vous pouvez utiliser VSCode ou un autre éditeur de texte professionnel.
- Il est préférable de ne pas entrer de caractères chinois ou de caractères spéciaux dans le fichier de configuration.
- Après avoir modifié le fichier de configuration, il est nécessaire de redémarrer le système pour que les modifications prennent effet.

:::

:::danger

- Ne modifiez pas le contenu sous la section `######### PLEASE DO NOT EDIT THE FOLLOWING #########`.

:::

## Comment modifier le fichier de configuration

### Modifier le fichier de configuration après le flashage

- Les paramètres qui ne prennent effet qu'à la première démarrée doivent être modifiés après le flashage en utilisant un éditeur de texte professionnel pour ouvrir le fichier de configuration `config.txt` dans le disque amovible `FlyOS-Conf`.

### Modification en ligne de configuration après le démarrage du système

- Si c'est une configuration ordinaire, après avoir modifié la page de configuration web du système et redémarrer le système, les modifications prendront effet.
    - Ouvrez l'adresse IP du périphérique dans le navigateur, par exemple : `http://192.168.1.2/`
    - Pour fluidd, décochez comme indiqué à gauche dans la figure ci-dessous -> `Filtrer et masquer les fichiers et dossiers cachés`.
    - Pour mainsail, cochez comme indiqué à droite dans la figure ci-dessous -> `Afficher les fichiers cachés`.
    
    <table>
      <tr>
        <td>
          <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/config1.webp').default} size="100%" align="center" />
        </td>
        <td>
          <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/config2.webp').default} size="85%" align="center" />
        </td>
      </tr>
    </table>

    - Vous verrez alors le dossier `.flyos-config`. Entrez dans ce dossier pour trouver le fichier `sys-config.conf`.
    - Le fichier `sys-config.conf` est un lien symbolique du fichier de configuration `config.txt` sur le disque amovible `FlyOS-Conf`.

    <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/config3.webp').default} size="60%" align="center" />

    - Ouvrez le fichier `sys-config.conf`, modifiez les paramètres nécessaires, puis enregistrez et fermez-le.
    
    <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/config4.webp').default} size="60%" align="center" />

    - Remarque : Le format des paramètres dans le fichier `sys-config.conf` est `clé=valeur`, ne modifiez pas en `clé: valeur`.
    - Après avoir enregistré les modifications, redémarrez le système pour que celles-ci prennent effet.

## Paramètres de configuration

### Configuration réseau sans fil

- Les paramètres suivants prennent effet à chaque démarrage du système.

| Paramètre | Valeur par défaut | Valeurs possibles | Description |
| :---: | :---: | :--- | :--- |
| `WIFI_SSID` | `vide` | Toute SSID de WiFi | Nom du réseau WiFi, si rempli, essaiera de se connecter automatiquement au premier démarrage |
| `WIFI_PASS` | `vide` | Laisser vide s'il n'y a pas de mot de passe | Mot de passe du réseau WiFi, si rempli, essaiera de se connecter avec le mot de passe |

----

### Configuration par défaut de l'imprimante

:::tip
- Les paramètres suivants ne prennent effet qu'à la première démarrée.
:::

| Paramètre | Valeur par défaut | Valeurs possibles | Description |
| :---: | :---: | :--- | :--- |
| `language` | `zh-CN` | <details><summary>Cliquez pour afficher le détail</summary>`zh-CN`, `zh-HK`, `en`, `de`, `cz`, `es`, `hu`, `ja`, `nl`, `pt`, `se`, `uk`, `da`, `fr`, `it`, `ko`, `pl`, `ru`, `tr`</details> | Définit la langue par défaut de fluidd et mainsail lors du premier démarrage |
| `printer_name` | `vide` | Toute chaîne de texte | Nom d'imprimante par défaut pour fluidd et mainsail lors du premier démarrage |

----

### Configuration système

- Les paramètres suivants prennent effet à chaque démarrage du système.

| Paramètre | Valeur par défaut | Valeurs possibles | Description |
| :---: | :-------: | :--- | :--- |
| `console` | `serial` | `serial`, `both` | Ce paramètre ne doit pas être modifié, uniquement `serial` est valide |
| `board` | H5: `fly-pi-v2`<br/>H3: `fly-lite2.1` | <details><summary>Cliquez pour afficher les séries H5</summary>`fly-pi`, `fly-pi-v2`, `fly-gemini-v1`, `fly-gemini-v2`, `fly-gemini-v3`, `fly-c8`</details><br/><details><summary>Cliquez pour afficher les séries H3</summary>`fly-lite2`, `fly-lite2.1`, `fly-minipad`</details> | Modèle de la carte mère, principalement utilisé pour le flashage automatique des firmwares, etc. |
| `shutdown_pin_state` | `1` | `0`, `1` | Définir l'état de la broche d'alimentation (bas ou haut) lors de l'arrêt du système |
| `shutdown_pin` | `none` | `PA21`, `PA4`... | Définir la broche de la touche d'arrêt, par défaut `none` pour désactiver |
| `spidev` | `spidev0.0 spidev1.0` | `spidev0.0`, `spidev0.1`, `spidev1.0`, `spidev1.1` | Définir les ports SPI à activer, plusieurs ports peuvent être activés en les séparant par un espace |
| `localtime` | `Asia/Shanghai` | [Tableau des fuseaux horaires mondiaux](/docs/DebugDoc/flyos-fast/timezone) | Définir le fuseau horaire par défaut du système, le système ajustera automatiquement l'heure après connexion à Internet |
| `canbus_bitrate` | `1000000` | `1000000`, `500000`, `250000` | Définir le taux de transmission par défaut pour tous les appareils CAN du système, par défaut 1M |

----

### Configuration du type d'imprimante

- Les paramètres suivants prennent effet à chaque démarrage du système.

| Paramètre | Valeur par défaut | Valeurs possibles | Description |
| :---: | :-------: | :--- | :--- |
| `printer` | `klipper` | `klipper`, `rrf` | Configurer quel service démarrer |
| `klipper`: klipper, moonraker, etc.<br/>| `rrf`: RRF DSF, DWC, etc. |

----

### Configuration de l'affichage

- Les paramètres suivants prennent effet à chaque démarrage du système.

| Paramètre | Valeur par défaut | Valeurs possibles | Description |
| :---: | :-------: | :--- | :--- |
| `screen` | `hdmi` | <details><summary>Cliquez pour afficher les séries H5</summary>`none`, `hdmi`, `fly-tft-v1`, `fly-tft-v2-r`, `fly-tft-v2-c`</details><br/><details><summary>Cliquez pour afficher les séries H3</summary>`none`, `hdmi`, `fly-tft-v1`, `fly-minipad-r`, `fly-minipad-c`, `fly-tft-v2-r`, `fly-tft-v2-c`</details> | Définir l'écran, `none` pour désactiver tout affichage |
| `rotate` | `90` | `0`, `90`, `180`, `270` | Angle de rotation pour FLY-TFT, inutile pour HDMI |

----

### Configuration liée à Klipper

- Les paramètres suivants prennent effet à chaque démarrage du système.

| Paramètre | Valeur par défaut | Valeurs possibles | Description |
| :---: | :-------: | :--- | :--- |
| `klipper_screen` | `0` | `0`, `1` | Activer ou non KlipperScreen |
| `moon2uart` | `0` | `0`, `1` | Activer ou non moon2uart |
| `m2u_port` | `/dev/ttyS1` | Port série valide | Port série pour moon2uart, applicable lorsque `moon2uart=1` |
| `m2u_baud` | `115200` | Baudrate valide | Baudrate pour moon2uart, applicable lorsque `moon2uart=1` |
| `klipper_webui` | `fluidd` | `fluidd`, `mainsail` | Interface utilisateur frontale par défaut pour Klipper |
| `printer=klipper` applicable |

----

### Configuration liée à RRF

- Les paramètres suivants prennent effet à chaque démarrage du système.

| Paramètre | Valeur par défaut | Valeurs possibles | Description |
| :---: | :-------: | :--- | :--- |
| `rrf2uart` | `0` | `0`, `1` | Non applicable pour le moment, mise à jour dans les versions futures |

----

### Autres paramètres

- Les paramètres suivants prennent effet à chaque démarrage du système.

| Paramètre | Valeur par défaut | Valeurs possibles | Description |
| :---: | :-------: | :--- | :--- |
| `crowsnest` | `0` | `0`, `1` | Activer ou non Crowsnest |
| `klipper` et `rrf` applicables |

:::tip
- Les paramètres suivants ne prennent effet qu'à la première démarrée.
:::

| Paramètre | Valeur par défaut | Valeurs possibles | Description |
| :---: | :-------: | :--- | :--- |
| `firmware` | `vide` | Chemin de fichier de firmware valide | Configurer le flashage automatique du firmware au démarrage, actuellement valide pour C8 et Gemini-V3 |

----

:::danger

- Ne modifiez pas le contenu sous la section `######### PLEASE DO NOT EDIT THE FOLLOWING #########`.

:::
