---
sidebar_position: 10
---

# Suspension et annulation de l'impression à une position personnalisée

    * Ajoutez `[include mainsail.cfg]` ou `[include fluidd.cfg]` dans `printer.cfg`.
    * Ajoutez les macros ci-dessous dans `printer.cfg`.

## Traduction en chinois

    ```cfg
    [gcode_macro _CLIENT_VARIABLE]
    ### Paramètres personnalisés pour la macro de suspension
    variable_use_custom_pos   : False ; Utiliser des coordonnées personnalisées pour x, y lors du stationnement [True/False]
    variable_custom_park_x    : 0.0   ; Position X personnalisée lors de la suspension de l'impression
    variable_custom_park_y    : 0.0   ; Position Y personnalisée lors de la suspension de l'impression
    variable_custom_park_dz   : 2.0   ; Distance en mm pour lever le buse lors du stationnement pendant l'impression

    ### Paramètres personnalisés pour la macro d'annulation de suspension
    variable_park_at_cancel   : False ; Autoriser le déplacement de la tête d'impression vers la position de stationnement lors de l'exécution de l'annulation de l'impression [True/False]
    variable_park_at_cancel_x : None  ; Position X différente lors de l'annulation de l'impression [None/Position en tant que Float]; variable_park_at_cancel doit être True
    variable_park_at_cancel_y : None  ; Position Y différente lors de l'annulation de l'impression [None/Position en tant que Float]; variable_park_at_cancel doit être True

    ### Action de l'extrudeur lors de la suspension et de l'annulation
    variable_retract          : 1.0     ; Longueur de retrait en mm lors de la suspension de l'impression
    variable_cancel_retract   : 5.0     ; Longueur de retrait en mm lors de l'annulation de l'impression
    variable_speed_retract    : 35.0    ; Vitesse de retrait en mm/s
    variable_unretract        : 1.0     ; Longueur de rétractation en mm lors de la reprise de l'impression
    variable_speed_unretract  : 35.0    ; Vitesse de rétractation en mm/s
    variable_speed_hop        : 15.0    ; Vitesse de déplacement en Z en mm/s
    variable_speed_move       : 100.0   ; Vitesse de déplacement en mm/s

    ### Configuration de l'arrêt du chauffage du moteur
    ### Un jour équivaut à 86400 secondes
    variable_idle_timeout     : 0     ; Temps en secondes jusqu'à ce que l'arrêt par inactivité se déclenche. Une valeur de 0 signifie qu'aucune valeur ne sera définie ou restaurée

    # !!! Attention si vous définissez use_fw_retract: True, vous devez définir [firmware_retraction] dans printer.cfg !!!
    variable_use_fw_retract   : False ; Utiliser le retrait du firmware au lieu de la version manuelle [True/False]
    variable_runout_sensor    : ""    ; Si un capteur est défini, il sera utilisé pour annuler l'exécution de RESUME si aucun fil n'est détecté.
    #                                Spécifiez le nom de configuration du capteur de rupture de fil, par exemple "filament_switch_sensor runout". Conseil : utilisez la même chose que dans votre fichier printer.cfg
    # !!! Macros personnalisées, veuillez utiliser avec prudence et examiner la section correspondante de la macro.
    # Ces macros sont pour des opérations simples comme l'activation d'une LED de statut. Assurez-vous que votre macro ne perturbe pas les fonctions de base des macros. Seules les commandes sur une seule ligne sont supportées, créez une macro si vous avez besoin de plus d'une commande.
    variable_user_pause_macro : ""    ; Tout ce qui est à l'intérieur des "" sera exécuté après la fonction de base de pause de Klipper (PAUSE_BASE)
    variable_user_resume_macro: ""    ; Tout ce qui est à l'intérieur des "" sera exécuté avant la fonction de base de reprise de Klipper (RESUME_BASE)
    variable_user_cancel_macro: ""    ; Tout ce qui est à l'intérieur des "" sera exécuté avant la fonction de base d'annulation de Klipper (BASE_CANCEL_PRINT)
    gcode:
    ```
