---
sidebar_position: 3
---

# Configuration du système

:::tip À lire impérativement

- Les paramètres dans le fichier de configuration ne seront actifs qu'à la première mise en route du système après la gravure.
- Veuillez donc modifier le fichier de configuration `config.txt` sur la disque amovible `FlyOS-Conf` après la gravure avant de lancer le système.

:::

:::warning Attention

- Essayez d'éviter l'utilisation du bloc-notes intégré sous Windows pour éditer les fichiers de configuration. Vous pouvez utiliser VSCode ou un autre éditeur de texte professionnel.
- Il est préférable de ne pas insérer de caractères chinois ou de caractères spéciaux dans le fichier de configuration.
- Après avoir modifié le fichier de configuration, il est nécessaire de redémarrer le système pour que les modifications soient prises en compte.

:::

:::danger Danger

- Ne modifiez pas le contenu ci-dessous `######### PLEASE DO NOT EDIT THE FOLLOWING #########`.

:::

## Comment modifier le fichier de configuration

### Modification du fichier de configuration après la gravure

- Les paramètres dont l'effet n'est actif qu'à la **première mise en route** doivent être modifiés après la gravure à l'aide d'un éditeur de texte professionnel pour ouvrir le fichier `config.txt` dans le disque amovible `FlyOS-Conf`.

### Modification de la configuration en ligne lorsque le système est démarré

- Si vous modifiez des paramètres normaux via la page de configuration web du système, il suffit de redémarrer le système pour que les modifications prennent effet.
    - Ouvrez le navigateur et entrez l'adresse IP du périphérique, par exemple : `http://192.168.1.2/`
    - Sous fluidd, décochez comme indiqué à gauche → `Masquer les fichiers et dossiers cachés`.
    - Sous mainsail, cochez comme indiqué à droite → `Afficher les fichiers cachés`.

    <table>
      <tr>
        <td>
          <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/config1.webp').default} size="100%" align="center" />
        </td>
        <td>
          <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/config2.webp').default} size="85%" align="center" />
        </td>
      </tr>
    </table>

    - Vous verrez alors le dossier `.flyos-config`. Entrez dans ce dossier pour trouver le fichier `sys-config.conf`.
    - Le fichier `sys-config.conf` est un lien symbolique vers le fichier de configuration `config.txt` sur le disque amovible `FlyOS-Conf`.

    <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/config3.webp').default} size="60%" align="center" />

    - Ouvrez le fichier `sys-config.conf`, modifiez les paramètres nécessaires puis cliquez sur `Enregistrer` → `Fermer`.

    <ImageView image={require('@site/docs/DebugDoc/flyos-fast/img/config4.webp').default} size="60%" align="center" />

    - Remarque : Le format des paramètres dans le fichier `sys-config.conf` est `clé=valeur`. N'utilisez pas `clé: valeur`.
    - Après avoir enregistré les modifications, redémarrez le système pour que les changements prennent effet.

## Paramètres de configuration

### Configuration réseau sans fil

- Les paramètres suivants prendront effet à chaque démarrage du système.

| Paramètre | Valeur par défaut | Valeurs possibles | Description |
| :---: | :---: | :--- | :--- |
| `WIFI_SSID` | `vide` | Toute SSID WiFi valide | Nom du réseau WiFi, si rempli, se connectera automatiquement au démarrage |
| `WIFI_PASS` | `vide` | Laisser vide si pas de mot de passe | Mot de passe du réseau WiFi, si rempli, utilisera le mot de passe pour se connecter |

----

### Configuration par défaut de l'imprimante

:::tip
- Les paramètres suivants ne sont actifs qu'à la **première mise en route**.
:::

| Paramètre | Valeur par défaut | Valeurs possibles | Description |
| :---: | :---: | :--- | :--- |
| `language` | `zh-CN` | <details><summary>Cliquez pour déployer le contenu</summary>`zh-CN`, `zh-HK`, `en`, `de`, `cz`, `es`, `hu`, `ja`, `nl`, `pt`, `se`, `uk`, `da`, `fr`, `it`, `ko`, `pl`, `ru`, `tr`</details> | Définit la langue par défaut de fluidd et mainsail lors de la première mise en route |
| `printer_name` | `vide` | Toute chaîne de texte valide | Nom par défaut de l'imprimante pour fluidd et mainsail lors de la première mise en route |

----

### Configuration système

- Les paramètres suivants prendront effet à chaque démarrage du système.

| Paramètre | Valeur par défaut | Valeurs possibles | Description |
| :---: | :-------: | :--- | :--- |
| `console` | `serial` | `serial`, `both` | Ce paramètre ne doit pas être modifié, uniquement `serial` est valide |
| `board` | H5: `fly-pi-v2`<br/>H3: `fly-lite2.1` | <details><summary>Cliquez pour déployer la série H5</summary>`fly-pi`, `fly-pi-v2`, `fly-gemini-v1`, `fly-gemini-v2`, `fly-gemini-v3`, `fly-c8`</details><br/><details><summary>Cliquez pour déployer la série H3</summary>`fly-lite2`, `fly-lite2.1`, `fly-minipad`</details> | Modèle de carte mère, utilisé principalement pour l'automatisation du flashage des firmwares, etc. |
| `shutdown_pin_state` | `1` | `0`, `1` | Définir l'état de niveau du bouton d'arrêt<br/>1: bas niveau déclenché<br/>0: haut niveau déclenché |
| `shutdown_pin` | `none` | `PA21`, `PA4`... | Définir la broche de déclenchement du bouton d'arrêt, `none` par défaut pour désactiver |
| `spidev` | `spidev0.0 spidev1.0` | `spidev0.0`, `spidev0.1`, `spidev1.0`, `spidev1.1` | Définir les ports SPI à activer<br/>Pour activer plusieurs ports, séparez-les par un espace |
| `localtime` | `Asia/Shanghai` | [Tableau des fuseaux horaires mondiaux](/docs/DebugDoc/flyos-fast/timezone) | Définir le fuseau horaire par défaut du système, le système ajustera automatiquement l'heure après la connexion à Internet |
| `canbus_bitrate` | `1000000` | `1000000`, `500000`, `250000` | Définir le taux de transmission par défaut pour tous les appareils CAN du système, valeur par défaut 1M |

----

### Configuration du type d'imprimante

- Les paramètres suivants prendront effet à chaque démarrage du système.

| Paramètre | Valeur par défaut | Valeurs possibles | Description |
| :---: | :-------: | :--- | :--- |
| `printer` | `klipper` | `klipper`, `rrf` | Configurer le service à lancer<br/>`klipper`: services klipper, moonraker, etc.<br/>`rrf`: services RRF DSF, DWC, etc. |

### Configuration de l'affichage

- Les paramètres suivants prendront effet à chaque démarrage du système.

| Paramètre | Valeur par défaut | Valeurs possibles | Description |
| :---: | :-------: | :--- | :--- |
| `screen` | `hdmi` | <details><summary>Cliquez pour déployer la série H5</summary>`none`, `hdmi`, `fly-tft-v1`, `fly-tft-v2-r`, `fly-tft-v2-c`</details><br/><details><summary>Cliquez pour déployer la série H3</summary>`none`, `hdmi`, `fly-tft-v1`, `fly-minipad-r`, `fly-minipad-c`, `fly-tft-v2-r`, `fly-tft-v2-c`</details> | Configurer l'écran, `none` pour désactiver tous les affichages |
| `rotate` | `90` | `0`, `90`, `180`, `270` | Configurer l'angle de rotation pour FLY-TFT, non applicable pour HDMI |

----

### Configuration liée à Klipper

- Les paramètres suivants prendront effet à chaque démarrage du système.

| Paramètre | Valeur par défaut | Valeurs possibles | Description |
| :---: | :-------: | :--- | :--- |
| `klipper_screen` | `0` | `0`, `1` | Activer ou désactiver KlipperScreen<br/>1: Activer<br/>0: Désactiver<br/>Valide uniquement si `printer=klipper` |
| `moon2uart` | `0` | `0`, `1` | Activer ou désactiver moon2uart<br/>1: Activer<br/>0: Désactiver<br/>Valide uniquement si `printer=klipper` |
| `m2u_port` | `/dev/ttyS1` | Ports série valides | Port série pour moon2uart, valide seulement si `moon2uart=1` |
| `m2u_baud` | `115200` | Baudrates valides | Taux de transmission pour moon2uart, valide seulement si `moon2uart=1` |
| `klipper_webui` | `fluidd` | `fluidd`, `mainsail` | Interface utilisateur par défaut de Klipper<br/>N'influe pas sur la fonctionnalité de basculement en un clic<br/>Valide uniquement si `printer=klipper` |

----

### Configuration liée à RRF

- Les paramètres suivants prendront effet à chaque démarrage du système.

| Paramètre | Valeur par défaut | Valeurs possibles | Description |
| :---: | :-------: | :--- | :--- |
| `rrf2uart` | `0` | `0`, `1` | Temporairement non utilisé, mise à jour disponible dans une version ultérieure |

----

### Autres paramètres

- Les paramètres suivants prendront effet à chaque démarrage du système.

| Paramètre | Valeur par défaut | Valeurs possibles | Description |
| :---: | :-------: | :--- | :--- |
| `crowsnest` | `0` | `0`, `1` | Activer ou désactiver Crowsnest<br/>1: Activer<br/>0: Désactiver<br/>Valide pour les modes Klipper et RRF |

:::tip
- Les paramètres suivants ne sont actifs qu'à la **première mise en route**.
:::

| Paramètre | Valeur par défaut | Valeurs possibles | Description |
| :---: | :-------: | :--- | :--- |
| `firmware` | `vide` | Chemin de fichier de firmware valide | Configurer le flashage automatique de firmware au démarrage, actuellement valide pour C8 et Gemini-V3 |

----

:::danger

- Ne modifiez pas le contenu ci-dessous `######### PLEASE DO NOT EDIT THE FOLLOWING #########`.

:::
