---
sidebar_position: 8
sidebar_label: SPI使用不了解决方法
---

# 板载5160驱动使用不了

    ```bash
    Unable to write tmc spi 'extruder' register IHOLD_IRUN
    ```

## 具体原因

    * 如果使用5160显示下方报错，因上位机Arm工具链版本问题`arm-none-eabi-gcc`

## 解决方法
    解决方法有以下三种

    * 编译工具链`arm-none-eabi-gcc`从`gcc10`换到`gcc8`
    * 更换上位机系统
    * 刷写提供正常的固件

    固件下载与烧录，请注意需要工具板可以正常连接can并且拥有CANBOOT

    * 下载

    ```bash
    cd ~/ && git clone https://github.com/FengHua741/FLY_Katapult.git
    ```
    * 烧录

    ```
    python3 ~/klipper/lib/canboot/flash_can.py -f ~/FLY_Katapult/Klipper/SHT36PRO/SHT36PRO_KLIPPER_CAN-1M_v0.12.0-229-g589bd64c.bin -u <SHT36PRO_canid>
    ```
